!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).sdsl={})}(this,function(e){"use strict";var n,i=undefined&&undefined.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new h("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});function t(t,r){return n=Error,i(e,n),e;function e(e){e=n.call(this,e=void 0===e?r:e)||this;return e.name=t,e}var n}var o,h=t("TypeError","type error"),s=t("RunTimeError","access out of bounds"),r=t("InternalError","internal error"),a=t("NullValueError","you can not set null value here"),u=t("ContainerInitError","container init failed"),l=undefined&&undefined.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),c=function(e){this.iteratorType=e},f=(d.prototype.size=function(){return this.length},d.prototype.empty=function(){return 0===this.length},d);function d(){this.length=0}var p,y=(l(b,p=f),b);function b(){return null!==p&&p.apply(this,arguments)||this}function v(e){if(e===undefined||null===e)throw new a}function g(e,t,r){if(e<t||r<e)throw new s}var w,m,k=((undefined&&undefined.__extends||(w=function(e,t){return(w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}w(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}))(T,m=y),T);function T(){return null!==m&&m.apply(this,arguments)||this}var C,_,E=undefined&&undefined.__extends||(C=function(e,t){return(C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}C(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),x=undefined&&undefined.__generator||function(r,n){var i,o,h,s={label:0,sent:function(){if(1&h[0])throw h[1];return h[1]},trys:[],ops:[]},e={next:t(0),"throw":t(1),"return":t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return a([t,e])}}function a(e){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,o&&(h=2&e[0]?o["return"]:e[0]?o["throw"]||((h=o["return"])&&h.call(o),0):o.next)&&!(h=h.call(o,e[1])).done)return h;switch(o=0,(e=h?[2&e[0],h.value]:e)[0]){case 0:case 1:h=e;break;case 4:return s.label++,{value:e[1],done:!1};case 5:s.label++,o=e[1],e=[0];continue;case 7:e=s.ops.pop(),s.trys.pop();continue;default:if(!(h=0<(h=s.trys).length&&h[h.length-1])&&(6===e[0]||2===e[0])){s=0;continue}if(3===e[0]&&(!h||e[1]>h[0]&&e[1]<h[3])){s.label=e[1];break}if(6===e[0]&&s.label<h[1]){s.label=h[1],h=e;break}if(h&&s.label<h[2]){s.label=h[2],s.ops.push(e);break}h[2]&&s.ops.pop(),s.trys.pop();continue}e=n.call(r,s)}catch(t){e=[6,t],o=0}finally{i=h=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}},B=undefined&&undefined.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),h=[];try{for(;(void 0===t||0<t--)&&!(n=o.next()).done;)h.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(r=o["return"])&&r.call(o)}finally{if(i)throw i.error}}return h},N=undefined&&undefined.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||((n=n||Array.prototype.slice.call(t,0,i))[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},S=undefined&&undefined.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return{value:(e=e&&n>=e.length?void 0:e)&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},P=(E(O,_=c),Object.defineProperty(O.prototype,"pointer",{get:function(){return g(this.node,0,this.size()-1),this.getElementByPos(this.node)},set:function(e){g(this.node,0,this.size()-1),this.setElementByPos(this.node,e)},enumerable:!1,configurable:!0}),O.prototype.pre=function(){if("reverse"===this.iteratorType){if(this.node===this.size()-1)throw new s("Deque iterator access denied!");++this.node}else{if(0===this.node)throw new s("Deque iterator access denied!");--this.node}return this},O.prototype.next=function(){if("reverse"===this.iteratorType){if(-1===this.node)throw new s("Deque iterator access denied!");--this.node}else{if(this.node===this.size())throw new s("Iterator access denied!");++this.node}return this},O.prototype.equals=function(e){if(e.constructor.name!==this.constructor.name)throw new TypeError("obj's constructor is not ".concat(this.constructor.name,"!"));if(this.iteratorType!==e.iteratorType)throw new TypeError("iterator type error!");return this.node===e.node},O);function O(e,t,r,n,i){i=_.call(this,i=void 0===i?"normal":i)||this;return i.node=e,i.size=t,i.getElementByPos=r,i.setElementByPos=n,i}var z,j=(E(F,z=k),F.prototype.clear=function(){this.length=0,this.vector.length=0},F.prototype.begin=function(){return new P(0,this.size.bind(this),this.getElementByPos.bind(this),this.setElementByPos.bind(this))},F.prototype.end=function(){return new P(this.length,this.size.bind(this),this.getElementByPos.bind(this),this.setElementByPos.bind(this))},F.prototype.rBegin=function(){return new P(this.length-1,this.size.bind(this),this.getElementByPos.bind(this),this.setElementByPos.bind(this),"reverse")},F.prototype.rEnd=function(){return new P(-1,this.size.bind(this),this.getElementByPos.bind(this),this.setElementByPos.bind(this),"reverse")},F.prototype.front=function(){return this.length?this.vector[0]:undefined},F.prototype.back=function(){return this.length?this.vector[this.length-1]:undefined},F.prototype.forEach=function(e){this.vector.forEach(e)},F.prototype.getElementByPos=function(e){return g(e,0,this.length-1),this.vector[e]},F.prototype.eraseElementByPos=function(e){g(e,0,this.length-1);for(var t=e;t<this.length-1;++t)this.vector[t]=this.vector[t+1];this.popBack()},F.prototype.eraseElementByValue=function(t){var r=this,n=[];this.forEach(function(e){e!==t&&n.push(e)}),n.forEach(function(e,t){r.vector[t]=e});for(var e=n.length;this.length>e;)this.popBack()},F.prototype.eraseElementByIterator=function(e){var t=e.node;return e=e.next(),this.eraseElementByPos(t),e},F.prototype.pushBack=function(e){this.vector.push(e),++this.length},F.prototype.popBack=function(){this.vector.pop(),0<this.length&&--this.length},F.prototype.setElementByPos=function(e,t){g(e,0,this.length-1),t!==undefined&&null!==t?this.vector[e]=t:this.eraseElementByPos(e)},F.prototype.insert=function(e,t,r){var n;void 0===r&&(r=1),v(t),g(e,0,this.length),(n=this.vector).splice.apply(n,N([e,0],B(new Array(r).fill(t)),!1)),this.length+=r},F.prototype.find=function(e){for(var t=0;t<this.length;++t)if(this.vector[t]===e)return new P(t,this.size.bind(this),this.getElementByPos.bind(this),this.getElementByPos.bind(this));return this.end()},F.prototype.reverse=function(){this.vector.reverse()},F.prototype.unique=function(){var r,n=this,i=[];this.forEach(function(e,t){0!==t&&e===r||(i.push(e),r=e)}),i.forEach(function(e,t){n.vector[t]=e});for(var e=i.length;this.length>e;)this.popBack()},F.prototype.sort=function(e){this.vector.sort(e)},F.prototype[Symbol.iterator]=function(){return function(){return x(this,function(e){switch(e.label){case 0:return[5,S(this.vector)];case 1:return[2,e.sent()]}})}.bind(this)()},F);function F(e){void 0===e&&(e=[]);var t=z.call(this)||this;return t.vector=[],e.forEach(function(e){return t.pushBack(e)}),t}var L,I,A=((undefined&&undefined.__extends||(L=function(e,t){return(L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}L(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}))(M,I=f),M.prototype.clear=function(){this.length=0,this.stack.length=0},M.prototype.push=function(e){this.stack.push(e),++this.length},M.prototype.pop=function(){this.stack.pop(),0<this.length&&--this.length},M.prototype.top=function(){return this.stack[this.length-1]},M);function M(e){void 0===e&&(e=[]);var t=I.call(this)||this;return t.stack=[],e.forEach(function(e){return t.push(e)}),t}var Q,q,K=undefined&&undefined.__extends||(Q=function(e,t){return(Q=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}Q(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),D=undefined&&undefined.__generator||function(r,n){var i,o,h,s={label:0,sent:function(){if(1&h[0])throw h[1];return h[1]},trys:[],ops:[]},e={next:t(0),"throw":t(1),"return":t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return a([t,e])}}function a(e){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,o&&(h=2&e[0]?o["return"]:e[0]?o["throw"]||((h=o["return"])&&h.call(o),0):o.next)&&!(h=h.call(o,e[1])).done)return h;switch(o=0,(e=h?[2&e[0],h.value]:e)[0]){case 0:case 1:h=e;break;case 4:return s.label++,{value:e[1],done:!1};case 5:s.label++,o=e[1],e=[0];continue;case 7:e=s.ops.pop(),s.trys.pop();continue;default:if(!(h=0<(h=s.trys).length&&h[h.length-1])&&(6===e[0]||2===e[0])){s=0;continue}if(3===e[0]&&(!h||e[1]>h[0]&&e[1]<h[3])){s.label=e[1];break}if(6===e[0]&&s.label<h[1]){s.label=h[1],h=e;break}if(h&&s.label<h[2]){s.label=h[2],s.ops.push(e);break}h[2]&&s.ops.pop(),s.trys.pop();continue}e=n.call(r,s)}catch(t){e=[6,t],o=0}finally{i=h=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}},G=function(e){this.value=undefined,this.pre=undefined,this.next=undefined,this.value=e},R=(K(U,q=c),Object.defineProperty(U.prototype,"pointer",{get:function(){if(this.node.value===undefined)throw new s("LinkList iterator access denied!");return this.node.value},set:function(e){if(this.node.value===undefined)throw new s("LinkList iterator access denied!");v(e),this.node.value=e},enumerable:!1,configurable:!0}),U.prototype.pre=function(){if("reverse"===this.iteratorType){if(this.node.next=this.node.next,this.node.next.value===undefined)throw new s("LinkList iterator access denied!");this.node=this.node.next}else{if(this.node.pre=this.node.pre,this.node.pre.value===undefined)throw new s("LinkList iterator access denied!");this.node=this.node.pre}return this},U.prototype.next=function(){if("reverse"===this.iteratorType){if(this.node.value===undefined)throw new s("LinkList iterator access denied!");this.node=this.node.pre}else{if(this.node.value===undefined)throw new s("LinkList iterator access denied!");this.node=this.node.next}return this},U.prototype.equals=function(e){if(e.constructor.name!==this.constructor.name)throw new TypeError("obj's constructor is not ".concat(this.constructor.name,"!"));if(this.iteratorType!==e.iteratorType)throw new TypeError("iterator type error!");return this.node===e.node},U);function U(e,t){t=q.call(this,t=void 0===t?"normal":t)||this;return t.node=e,t}var V,H=(K(J,V=k),J.prototype.clear=function(){this.length=0,this.head=this.tail=undefined,this.header.pre=this.header.next=undefined},J.prototype.begin=function(){return new R(this.head||this.header)},J.prototype.end=function(){return new R(this.header)},J.prototype.rBegin=function(){return new R(this.tail||this.header,"reverse")},J.prototype.rEnd=function(){return new R(this.header,"reverse")},J.prototype.front=function(){var e;return null===(e=this.head)||void 0===e?void 0:e.value},J.prototype.back=function(){var e;return null===(e=this.tail)||void 0===e?void 0:e.value},J.prototype.forEach=function(e){for(var t=this.head,r=0;t&&t!==this.header;)e(t.value,r++),t=t.next},J.prototype.getElementByPos=function(e){g(e,0,this.length-1);for(var t=this.head;e--;)t=t.next;return t.value},J.prototype.eraseElementByPos=function(e){if(g(e,0,this.length-1),0===e)this.popFront();else if(e===this.length-1)this.popBack();else{for(var t=this.head;e--;)t=t.next;var r=t.pre,n=t.next;(n.pre=r).next=n,0<this.length&&--this.length}},J.prototype.eraseElementByValue=function(e){for(;this.head&&this.head.value===e;)this.popFront();for(;this.tail&&this.tail.value===e;)this.popBack();if(this.head)for(var t,r,n=this.head;n&&n!==this.header;)n.value===e&&(t=n.pre,(r=n.next)&&(r.pre=t),t&&(t.next=r),0<this.length&&--this.length),n=n.next},J.prototype.eraseElementByIterator=function(e){if(!this.length)throw new s;var t,r=e.node;return e=e.next(),this.head===r?this.popFront():this.tail===r?this.popBack():(t=r.pre,(r=r.next)&&(r.pre=t),t&&(t.next=r),--this.length),e},J.prototype.pushBack=function(e){v(e),++this.length;e=new G(e);this.tail?((this.tail.next=e).pre=this.tail,this.tail=e):(this.head=this.tail=e,this.header.next=this.head,this.head.pre=this.header),this.tail.next=this.header,this.header.pre=this.tail},J.prototype.popBack=function(){this.tail&&(0<this.length&&--this.length,this.head===this.tail?(this.head=this.tail=undefined,this.header.next=undefined):(this.tail=this.tail.pre,this.tail&&(this.tail.next=undefined)),this.header.pre=this.tail,this.tail&&(this.tail.next=this.header))},J.prototype.setElementByPos=function(e,t){v(t),g(e,0,this.length-1);for(var r=this.head;e--;)r=r.next;r&&(r.value=t)},J.prototype.insert=function(e,t,r){if(void 0===r&&(r=1),v(t),g(e,0,this.length),!(r<=0))if(0===e)for(;r--;)this.pushFront(t);else if(e===this.length)for(;r--;)this.pushBack(t);else{for(var n=this.head,i=1;i<e;++i)n=n.next;var o=n.next;for(this.length+=r;r--;)n.next=new G(t),n=(n.next.pre=n).next;(n.next=o)&&(o.pre=n)}},J.prototype.find=function(e){for(var t=this.head;t&&t!==this.header;){if(t.value===e)return new R(t);t=t.next}return this.end()},J.prototype.reverse=function(){for(var e=this.head,t=this.tail,r=0;e&&t&&2*r<this.length;){var n=e.value;e.value=t.value,t.value=n,e=e.next,t=t.pre,++r}},J.prototype.unique=function(){for(var e=this.head;e&&e!==this.header;){for(var t=e;t&&t.next&&t.value===t.next.value;)t=t.next,0<this.length&&--this.length;e.next=t.next,e.next&&(e.next.pre=e),e=e.next}},J.prototype.sort=function(e){var t=[];this.forEach(function(e){t.push(e)}),t.sort(e);var r=this.head;t.forEach(function(e){r&&(r.value=e,r=r.next)})},J.prototype.pushFront=function(e){v(e),++this.length;e=new G(e);this.head?(e.next=this.head,this.head.pre=e,this.head=e):(this.head=this.tail=e,this.tail.next=this.header,this.header.pre=this.tail),this.header.next=this.head,this.head.pre=this.header},J.prototype.popFront=function(){this.head&&(0<this.length&&--this.length,this.head===this.tail?(this.head=this.tail=undefined,this.header.pre=this.tail):(this.head=this.head.next,this.head&&(this.head.pre=this.header)),this.header.next=this.head)},J.prototype.merge=function(e){var r=this,n=this.head;e.forEach(function(e){for(;n&&n!==r.header&&n.value!==undefined&&n.value<=e;)n=n.next;var t;n===r.header?(r.pushBack(e),n=r.tail):n===r.head?(r.pushFront(e),n=r.head):(++r.length,(t=n.pre)&&(t.next=new G(e),((t.next.pre=t).next.next=n)&&(n.pre=t.next)))})},J.prototype[Symbol.iterator]=function(){return function(){var t;return D(this,function(e){switch(e.label){case 0:t=this.head,e.label=1;case 1:return t&&t!==this.header?[4,t.value]:[3,3];case 2:return e.sent(),t=t.next,[3,1];case 3:return[2]}})}.bind(this)()},J);function J(e){void 0===e&&(e=[]);var t=V.call(this)||this;return t.header=new G,t.head=undefined,t.tail=undefined,e.forEach(function(e){return t.pushBack(e)}),t}var W,X,l=((undefined&&undefined.__extends||(W=function(e,t){return(W=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}W(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}))(Y,X=f),Y.prototype.clear=function(){this.queue.clear(),this.length=0},Y.prototype.push=function(e){this.queue.pushBack(e),++this.length},Y.prototype.pop=function(){this.queue.popFront(),this.length&&--this.length},Y.prototype.front=function(){return this.queue.front()},Y);function Y(e){void 0===e&&(e=[]);var t=X.call(this)||this;return t.queue=new H(e),t.length=t.queue.size(),t}var Z,$,E=undefined&&undefined.__extends||(Z=function(e,t){return(Z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}Z(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),ee=undefined&&undefined.__generator||function(r,n){var i,o,h,s={label:0,sent:function(){if(1&h[0])throw h[1];return h[1]},trys:[],ops:[]},e={next:t(0),"throw":t(1),"return":t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return a([t,e])}}function a(e){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,o&&(h=2&e[0]?o["return"]:e[0]?o["throw"]||((h=o["return"])&&h.call(o),0):o.next)&&!(h=h.call(o,e[1])).done)return h;switch(o=0,(e=h?[2&e[0],h.value]:e)[0]){case 0:case 1:h=e;break;case 4:return s.label++,{value:e[1],done:!1};case 5:s.label++,o=e[1],e=[0];continue;case 7:e=s.ops.pop(),s.trys.pop();continue;default:if(!(h=0<(h=s.trys).length&&h[h.length-1])&&(6===e[0]||2===e[0])){s=0;continue}if(3===e[0]&&(!h||e[1]>h[0]&&e[1]<h[3])){s.label=e[1];break}if(6===e[0]&&s.label<h[1]){s.label=h[1],h=e;break}if(h&&s.label<h[2]){s.label=h[2],s.ops.push(e);break}h[2]&&s.ops.pop(),s.trys.pop();continue}e=n.call(r,s)}catch(t){e=[6,t],o=0}finally{i=h=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}},te=(E(re,$=c),Object.defineProperty(re.prototype,"pointer",{get:function(){return g(this.node,0,this.size()-1),this.getElementByPos(this.node)},set:function(e){g(this.node,0,this.size()-1),this.setElementByPos(this.node,e)},enumerable:!1,configurable:!0}),re.prototype.pre=function(){if("reverse"===this.iteratorType){if(this.node===this.size()-1)throw new s("Deque iterator access denied!");++this.node}else{if(0===this.node)throw new s("Deque iterator access denied!");--this.node}return this},re.prototype.next=function(){if("reverse"===this.iteratorType){if(-1===this.node)throw new s("Deque iterator access denied!");--this.node}else{if(this.node===this.size())throw new s("Iterator access denied!");++this.node}return this},re.prototype.equals=function(e){if(e.constructor.name!==this.constructor.name)throw new TypeError("obj's constructor is not ".concat(this.constructor.name,"!"));if(this.iteratorType!==e.iteratorType)throw new TypeError("iterator type error!");return this.node===e.node},re);function re(e,t,r,n,i){i=$.call(this,i=void 0===i?"normal":i)||this;return i.node=e,i.size=t,i.getElementByPos=r,i.setElementByPos=n,i}var ne,K=(E(ie,ne=k),ie.prototype.reAllocate=function(e){for(var t=[],r=Math.max(Math.ceil(e*ie.sigma/this.bucketSize),2),n=0;n<r;++n)t.push(new Array(this.bucketSize));var i=Math.ceil(e/this.bucketSize),o=Math.floor(r/2)-Math.floor(i/2),h=o,s=0;if(this.length)for(n=0;n<i;++n){for(var a=0;a<this.bucketSize;++a)if(t[o+n][a]=this.front(),this.popFront(),!this.length){h=o+n,s=a;break}if(!this.length)break}this.map=t,this.first=o,this.curFirst=0,this.last=h,this.curLast=s,this.bucketNum=r,this.length=e},ie.prototype.getElementIndex=function(e){var t,e=this.first*this.bucketSize+this.curFirst+e,e=(e+1)%this.bucketSize==0?(t=(e+1)/this.bucketSize-1,this.bucketSize-1):(t=Math.floor((e+1)/this.bucketSize),(e+1)%this.bucketSize-1);return{curNodeBucketIndex:t,curNodePointerIndex:e}},ie.prototype.getIndex=function(e,t){return e===this.first?t-this.curFirst:e===this.last?this.length-(this.curLast-t)-1:this.bucketSize-this.first+(e-this.first-1)*this.bucketNum+t},ie.prototype.clear=function(){this.first=this.last=this.curFirst=this.curLast=this.bucketNum=this.length=0,this.reAllocate(this.bucketSize),this.length=0},ie.prototype.front=function(){return this.map[this.first][this.curFirst]},ie.prototype.back=function(){return this.map[this.last][this.curLast]},ie.prototype.begin=function(){return new te(0,this.size.bind(this),this.getElementByPos.bind(this),this.setElementByPos.bind(this))},ie.prototype.end=function(){return new te(this.length,this.size.bind(this),this.getElementByPos.bind(this),this.setElementByPos.bind(this))},ie.prototype.rBegin=function(){return new te(this.length-1,this.size.bind(this),this.getElementByPos.bind(this),this.setElementByPos.bind(this),"reverse")},ie.prototype.rEnd=function(){return new te(-1,this.size.bind(this),this.getElementByPos.bind(this),this.setElementByPos.bind(this),"reverse")},ie.prototype.pushBack=function(e){v(e),this.length&&(this.last===this.bucketNum-1&&this.curLast===this.bucketSize-1&&this.reAllocate(this.length),this.curLast<this.bucketSize-1?++this.curLast:this.last<this.bucketNum-1&&(++this.last,this.curLast=0)),++this.length,this.map[this.last][this.curLast]=e},ie.prototype.popBack=function(){this.length&&(1!==this.length&&(0<this.curLast?--this.curLast:this.first<this.last&&(--this.last,this.curLast=this.bucketSize-1)),0<this.length&&--this.length)},ie.prototype.pushFront=function(e){v(e),this.length&&(0===this.first&&0===this.curFirst&&this.reAllocate(this.length),0<this.curFirst?--this.curFirst:0<this.first&&(--this.first,this.curFirst=this.bucketSize-1)),++this.length,this.map[this.first][this.curFirst]=e},ie.prototype.popFront=function(){this.length&&(1!==this.size()&&(this.curFirst<this.bucketSize-1?++this.curFirst:this.first<this.last&&(++this.first,this.curFirst=0)),0<this.length&&--this.length)},ie.prototype.forEach=function(e){if(this.length){var t=0;if(this.first!==this.last){for(n=this.curFirst;n<this.bucketSize;++n)e(this.map[this.first][n],t++);for(n=this.first+1;n<this.last;++n)for(var r=0;r<this.bucketSize;++r)e(this.map[n][r],t++);for(n=0;n<=this.curLast;++n)e(this.map[this.last][n],t++)}else for(var n=this.curFirst;n<=this.curLast;++n)e(this.map[this.first][n],t++)}},ie.prototype.getElementByPos=function(e){g(e,0,this.size()-1);var t=this.getElementIndex(e),e=t.curNodeBucketIndex,t=t.curNodePointerIndex;return this.map[e][t]},ie.prototype.setElementByPos=function(e,t){var r,n;t!==undefined&&null!==t?(g(e,0,this.length-1),r=(n=this.getElementIndex(e)).curNodeBucketIndex,n=n.curNodePointerIndex,this.map[r][n]=t):this.eraseElementByPos(e)},ie.prototype.insert=function(e,t,r){var n=this;if(void 0===r&&(r=1),v(t),g(e,0,this.length),0===e)for(;r--;)this.pushFront(t);else if(e===this.length)for(;r--;)this.pushBack(t);else{for(var i=[],o=e;o<this.length;++o)i.push(this.getElementByPos(o));this.cut(e-1);for(o=0;o<r;++o)this.pushBack(t);i.forEach(function(e){return n.pushBack(e)})}},ie.prototype.cut=function(e){var t,r;e<0?this.clear():(t=(r=this.getElementIndex(e)).curNodeBucketIndex,r=r.curNodePointerIndex,this.last=t,this.curLast=r,this.length=e+1)},ie.prototype.eraseElementByPos=function(e){var t=this;if((e<0||e>this.length)&&g(e,0,this.length-1),0===e)this.popFront();else if(e===this.length-1)this.popBack();else{for(var r=[],n=e+1;n<this.length;++n)r.push(this.getElementByPos(n));this.cut(e),this.popBack(),r.forEach(function(e){return t.pushBack(e)})}},ie.prototype.eraseElementByValue=function(t){if(this.length){var r=[];this.forEach(function(e){e!==t&&r.push(e)});for(var e=r.length,n=0;n<e;++n)this.setElementByPos(n,r[n]);this.cut(e-1)}},ie.prototype.eraseElementByIterator=function(e){var t=e.node;return this.eraseElementByPos(t),e=e.next()},ie.prototype.find=function(r){var n=this,e=function(){if(n.first===n.last){for(var e=n.curFirst;e<=n.curLast;++e)if(n.map[n.first][e]===r)return n.getIndex(n.first,e);return undefined}for(e=n.curFirst;e<n.bucketSize;++e)if(n.map[n.first][e]===r)return n.getIndex(n.first,e);for(e=n.first+1;e<n.last;++e)for(var t=0;t<n.bucketSize;++t)if(n.map[e][t]===r)return n.getIndex(e,t);for(e=0;e<=n.curLast;++e)if(n.map[n.last][e]===r)return n.getIndex(n.last,e);return undefined}();return e===undefined?this.end():new te(e,this.size.bind(this),this.getElementByPos.bind(this),this.setElementByPos.bind(this))},ie.prototype.reverse=function(){for(var e=0,t=this.length-1;e<t;){var r=this.getElementByPos(e);this.setElementByPos(e,this.getElementByPos(t)),this.setElementByPos(t,r),++e,--t}},ie.prototype.unique=function(){if(this.length){var r=[],n=this.front();this.forEach(function(e,t){0!==t&&e===n||(r.push(e),n=e)});for(var e=0;e<this.length;++e)this.setElementByPos(e,r[e]);this.cut(r.length-1)}},ie.prototype.sort=function(e){var t=[];this.forEach(function(e){t.push(e)}),t.sort(e);for(var r=0;r<this.length;++r)this.setElementByPos(r,t[r])},ie.prototype.shrinkToFit=function(){var t=this;if(this.length){var r=[];this.forEach(function(e){return r.push(e)}),this.bucketNum=Math.max(Math.ceil(this.length/this.bucketSize),1),this.length=this.first=this.last=this.curFirst=this.curLast=0,this.map=[];for(var e=0;e<this.bucketNum;++e)this.map.push(new Array(this.bucketSize));r.forEach(function(e){return t.pushBack(e)})}},ie.prototype[Symbol.iterator]=function(){return function(){var t,r;return ee(this,function(e){switch(e.label){case 0:if(0===this.length)return[2];if(this.first!==this.last)return[3,5];r=this.curFirst,e.label=1;case 1:return r<=this.curLast?[4,this.map[this.first][r]]:[3,4];case 2:e.sent(),e.label=3;case 3:return++r,[3,1];case 4:return[2];case 5:r=this.curFirst,e.label=6;case 6:return r<this.bucketSize?[4,this.map[this.first][r]]:[3,9];case 7:e.sent(),e.label=8;case 8:return++r,[3,6];case 9:r=this.first+1,e.label=10;case 10:if(!(r<this.last))return[3,15];t=0,e.label=11;case 11:return t<this.bucketSize?[4,this.map[r][t]]:[3,14];case 12:e.sent(),e.label=13;case 13:return++t,[3,11];case 14:return++r,[3,10];case 15:r=0,e.label=16;case 16:return r<=this.curLast?[4,this.map[this.last][r]]:[3,19];case 17:e.sent(),e.label=18;case 18:return++r,[3,16];case 19:return[2]}})}.bind(this)()},ie.sigma=3,ie.initBucketSize=4096,ie);function ie(e,t){void 0===e&&(e=[]),void 0===t&&(t=ie.initBucketSize);var r=ne.call(this)||this;if(r.first=0,r.curFirst=0,r.last=0,r.curLast=0,r.bucketNum=0,r.map=[],"size"in e)i="number"==typeof e.size?e.size:e.size();else{if(!("length"in e))throw new u("Can't get container's size!");i=e.length}r.bucketSize=t,r.bucketNum=Math.ceil(i*ie.sigma/r.bucketSize),r.bucketNum=Math.max(r.bucketNum,3);for(var n=0;n<r.bucketNum;++n)r.map.push(new Array(r.bucketSize));var i=Math.ceil(i/r.bucketSize);return r.first=Math.floor(r.bucketNum/2)-Math.floor(i/2),r.last=r.first,e.forEach(function(e){return r.pushBack(e)}),r}var oe,he,k=((undefined&&undefined.__extends||(oe=function(e,t){return(oe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}oe(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}))(se,he=f),se.prototype.swap=function(e,t){var r=this.priorityQueue[e];this.priorityQueue[e]=this.priorityQueue[t],this.priorityQueue[t]=r},se.prototype.adjust=function(e){var t=2*e+1,r=2*e+2;t<this.length&&0<this.cmp(this.priorityQueue[e],this.priorityQueue[t])&&this.swap(e,t),r<this.length&&0<this.cmp(this.priorityQueue[e],this.priorityQueue[r])&&this.swap(e,r)},se.prototype.clear=function(){this.length=0,this.priorityQueue.length=0},se.prototype.push=function(e){if(this.priorityQueue.push(e),++this.length,1!==this.length)for(var t=this.length-1;0<t;){var r=Math.floor((t-1)/2);if(this.cmp(this.priorityQueue[r],e)<=0)break;this.adjust(r),t=r}},se.prototype.pop=function(){if(this.length)if(1!==this.length){var e=this.priorityQueue[this.length-1];--this.length;for(var t=0;t<this.length;){var r=2*t+1,n=2*t+2;if(r>=this.length)break;var i=r;if(n<this.length&&0<this.cmp(this.priorityQueue[r],this.priorityQueue[n])&&(i=n),0<=this.cmp(this.priorityQueue[i],e))break;this.priorityQueue[t]=this.priorityQueue[i],t=i}this.priorityQueue[t]=e}else--this.length},se.prototype.top=function(){return this.priorityQueue[0]},se);function se(e,t){void 0===e&&(e=[]),void 0===t&&(t=function(e,t){return t<e?-1:e<t?1:0});var r=he.call(this)||this;r.priorityQueue=[],r.cmp=t,e.forEach(function(e){return r.priorityQueue.push(e)}),r.length=r.priorityQueue.length;for(var n=Math.floor((r.length-1)/2);0<=n;--n)for(var i=n,o=2*i+1;o<r.length;){var h=o,s=h+1,a=h;if(s<r.length&&0<r.cmp(r.priorityQueue[h],r.priorityQueue[s])&&(a=s),r.cmp(r.priorityQueue[i],r.priorityQueue[a])<=0)break;r.swap(i,a),o=2*(i=a)+1}return r}var ae=(ue.prototype.rotateLeft=function(){var e=this.parent,t=this.brother,r=this.leftChild,n=this.rightChild,i=n.leftChild,o=n.rightChild;return e&&e.key!==undefined&&(e.leftChild===this?e.leftChild=n:e.rightChild===this&&(e.rightChild=n)),n.parent=e,n.brother=t,n.leftChild=this,n.rightChild=o,t&&(t.brother=n),this.parent=n,this.brother=o,this.leftChild=r,this.rightChild=i,o&&(o.parent=n,o.brother=this),r&&(r.parent=this,r.brother=i),i&&(i.parent=this,i.brother=r),n},ue.prototype.rotateRight=function(){var e=this.parent,t=this.brother,r=this.leftChild,n=this.rightChild,i=r.leftChild,o=r.rightChild;return e&&e.key!==undefined&&(e.leftChild===this?e.leftChild=r:e.rightChild===this&&(e.rightChild=r)),r.parent=e,r.brother=t,r.leftChild=i,r.rightChild=this,t&&(t.brother=r),i&&(i.parent=r,i.brother=this),this.parent=r,this.brother=i,this.leftChild=o,this.rightChild=n,o&&(o.parent=this,o.brother=n),n&&(n.parent=this,n.brother=o),r},ue.prototype.remove=function(){if(this.leftChild||this.rightChild)throw new r("can only remove leaf node");this.parent&&(this===this.parent.leftChild?this.parent.leftChild=undefined:this===this.parent.rightChild&&(this.parent.rightChild=undefined)),this.brother&&(this.brother.brother=undefined),this.key=undefined,this.value=undefined,this.parent=undefined,this.brother=undefined},ue.TreeNodeColorType={red:!0,black:!1},ue);function ue(e,t){this.color=!0,this.key=undefined,this.value=undefined,this.parent=undefined,this.brother=undefined,this.leftChild=undefined,this.rightChild=undefined,this.key=e,this.value=t}var le,ce,E=((undefined&&undefined.__extends||(le=function(e,t){return(le=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}le(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}))(fe,ce=y),fe.prototype.eraseNodeSelfBalance=function(e){var t,r,n=e.parent;n&&n!==this.header&&(e.color!==ae.TreeNodeColorType.red?(t=e.brother,e===n.leftChild?t.color===ae.TreeNodeColorType.red?(t.color=ae.TreeNodeColorType.black,n.color=ae.TreeNodeColorType.red,r=n.rotateLeft(),this.root===n&&(this.root=r,this.header.parent=this.root,this.root.parent=this.header),this.eraseNodeSelfBalance(e)):t.color===ae.TreeNodeColorType.black&&(t.rightChild&&t.rightChild.color===ae.TreeNodeColorType.red?(t.color=n.color,n.color=ae.TreeNodeColorType.black,t.rightChild&&(t.rightChild.color=ae.TreeNodeColorType.black),r=n.rotateLeft(),this.root===n&&(this.root=r,this.header.parent=this.root,this.root.parent=this.header),e.color=ae.TreeNodeColorType.black):t.rightChild&&t.rightChild.color!==ae.TreeNodeColorType.black||!t.leftChild||t.leftChild.color!==ae.TreeNodeColorType.red?t.leftChild&&t.leftChild.color!==ae.TreeNodeColorType.black||t.rightChild&&t.rightChild.color!==ae.TreeNodeColorType.black||(t.color=ae.TreeNodeColorType.red,this.eraseNodeSelfBalance(n)):(t.color=ae.TreeNodeColorType.red,t.leftChild&&(t.leftChild.color=ae.TreeNodeColorType.black),r=t.rotateRight(),this.root===t&&(this.root=r,this.header.parent=this.root,this.root.parent=this.header),this.eraseNodeSelfBalance(e))):e===n.rightChild&&(t.color===ae.TreeNodeColorType.red?(t.color=ae.TreeNodeColorType.black,n.color=ae.TreeNodeColorType.red,r=n.rotateRight(),this.root===n&&(this.root=r,this.header.parent=this.root,this.root.parent=this.header),this.eraseNodeSelfBalance(e)):t.color===ae.TreeNodeColorType.black&&(t.leftChild&&t.leftChild.color===ae.TreeNodeColorType.red?(t.color=n.color,n.color=ae.TreeNodeColorType.black,t.leftChild&&(t.leftChild.color=ae.TreeNodeColorType.black),r=n.rotateRight(),this.root===n&&(this.root=r,this.header.parent=this.root,this.root.parent=this.header),e.color=ae.TreeNodeColorType.black):t.leftChild&&t.leftChild.color!==ae.TreeNodeColorType.black||!t.rightChild||t.rightChild.color!==ae.TreeNodeColorType.red?t.leftChild&&t.leftChild.color!==ae.TreeNodeColorType.black||t.rightChild&&t.rightChild.color!==ae.TreeNodeColorType.black||(t.color=ae.TreeNodeColorType.red,this.eraseNodeSelfBalance(n)):(t.color=ae.TreeNodeColorType.red,t.rightChild&&(t.rightChild.color=ae.TreeNodeColorType.black),r=t.rotateLeft(),this.root===t&&(this.root=r,this.header.parent=this.root,this.root.parent=this.header),this.eraseNodeSelfBalance(e))))):e.color=ae.TreeNodeColorType.black)},fe.prototype.eraseNode=function(e){for(var t,r,n=e;n.leftChild||n.rightChild;)n.rightChild&&(n=this.findSubTreeMinNode(n.rightChild),t=e.key,e.key=n.key,n.key=t,r=e.value,e.value=n.value,n.value=r,e=n),n.leftChild&&(n=this.findSubTreeMaxNode(n.leftChild),t=e.key,e.key=n.key,n.key=t,r=e.value,e.value=n.value,n.value=r,e=n);this.header.leftChild&&this.header.leftChild.key!==undefined&&0===this.cmp(this.header.leftChild.key,n.key)&&(this.header.leftChild!==this.root?this.header.leftChild=this.header.leftChild.parent:this.header.leftChild.rightChild?this.header.leftChild=this.header.leftChild.rightChild:this.header.leftChild=undefined),this.header.rightChild&&this.header.rightChild.key!==undefined&&0===this.cmp(this.header.rightChild.key,n.key)&&(this.header.rightChild!==this.root?this.header.rightChild=this.header.rightChild.parent:this.header.rightChild.leftChild?this.header.rightChild=this.header.rightChild.leftChild:this.header.rightChild=undefined),this.eraseNodeSelfBalance(n),n&&n.remove(),--this.length,this.root.color=ae.TreeNodeColorType.black},fe.prototype.insertNodeSelfBalance=function(e){var t,r,n,i=e.parent;i&&i!==this.header&&i.color!==ae.TreeNodeColorType.black&&i.color===ae.TreeNodeColorType.red&&(t=i.brother,r=i.parent,t&&t.color===ae.TreeNodeColorType.red?(t.color=i.color=ae.TreeNodeColorType.black,r.color=ae.TreeNodeColorType.red,this.insertNodeSelfBalance(r)):t&&t.color!==ae.TreeNodeColorType.black||(i===r.leftChild?e===i.leftChild?(i.color=ae.TreeNodeColorType.black,r.color=ae.TreeNodeColorType.red,n=r.rotateRight(),r===this.root&&(this.root=n,this.header.parent=this.root,this.root.parent=this.header)):e===i.rightChild&&(n=i.rotateLeft(),i===this.root&&(this.root=n,this.header.parent=this.root,this.root.parent=this.header),this.insertNodeSelfBalance(i)):i===r.rightChild&&(e===i.leftChild?(n=i.rotateRight(),i===this.root&&(this.root=n,this.header.parent=this.root,this.root.parent=this.header),this.insertNodeSelfBalance(i)):e===i.rightChild&&(i.color=ae.TreeNodeColorType.black,r.color=ae.TreeNodeColorType.red,n=r.rotateLeft(),r===this.root&&(this.root=n,this.header.parent=this.root,this.root.parent=this.header)))))},fe.prototype.clear=function(){this.length=0,this.root.key=this.root.value=undefined,this.root.leftChild=this.root.rightChild=this.root.brother=undefined,this.header.leftChild=this.header.rightChild=undefined},fe.prototype.eraseElementByPos=function(t){var r=this;g(t,0,this.length-1);var n=0;this.inOrderTraversal(this.root,function(e){return t===n?(r.eraseNode(e),!0):(++n,!1)})},fe.prototype.eraseElementByKey=function(e){var t;!this.length||(t=this.findElementNode(this.root,e))!==undefined&&t.key!==undefined&&0===this.cmp(t.key,e)&&this.eraseNode(t)},fe.prototype.getHeight=function(){if(!this.length)return 0;var t=function(e){return e?Math.max(t(e.leftChild),t(e.rightChild))+1:1};return t(this.root)},fe);function fe(e){void 0===e&&(e=function(e,t){return e<t?-1:t<e?1:0});var n=ce.call(this)||this;return n.root=new ae,n.header=new ae,n.findSubTreeMinNode=function(e){return e.leftChild?n.findSubTreeMinNode(e.leftChild):e},n.findSubTreeMaxNode=function(e){return e.rightChild?n.findSubTreeMaxNode(e.rightChild):e},n._lowerBound=function(e,t){if(!e||e.key===undefined)return undefined;var r=n.cmp(e.key,t);if(0===r)return e;if(r<0)return n._lowerBound(e.rightChild,t);t=n._lowerBound(e.leftChild,t);return t===undefined?e:t},n._upperBound=function(e,t){if(!e||e.key===undefined)return undefined;if(n.cmp(e.key,t)<=0)return n._upperBound(e.rightChild,t);t=n._upperBound(e.leftChild,t);return t===undefined?e:t},n._reverseLowerBound=function(e,t){if(!e||e.key===undefined)return undefined;var r=n.cmp(e.key,t);if(0===r)return e;if(0<r)return n._reverseLowerBound(e.leftChild,t);t=n._reverseLowerBound(e.rightChild,t);return t===undefined?e:t},n._reverseUpperBound=function(e,t){if(!e||e.key===undefined)return undefined;if(0<=n.cmp(e.key,t))return n._reverseUpperBound(e.leftChild,t);t=n._reverseUpperBound(e.rightChild,t);return t===undefined?e:t},n.inOrderTraversal=function(e,t){return!(!e||e.key===undefined)&&(!!n.inOrderTraversal(e.leftChild,t)||(!!t(e)||n.inOrderTraversal(e.rightChild,t)))},n.findInsertPos=function(e,t){var r=n.cmp(t,e.key);return r<0?e.leftChild?n.findInsertPos(e.leftChild,t):(e.leftChild=new ae,(e.leftChild.parent=e).leftChild.brother=e.rightChild,e.rightChild&&(e.rightChild.brother=e.leftChild),e.leftChild):0<r?e.rightChild?n.findInsertPos(e.rightChild,t):(e.rightChild=new ae,(e.rightChild.parent=e).rightChild.brother=e.leftChild,e.leftChild&&(e.leftChild.brother=e.rightChild),e.rightChild):e},n.findElementNode=function(e,t){if(!e||e.key===undefined)return undefined;var r=n.cmp(t,e.key);return r<0?n.findElementNode(e.leftChild,t):0<r?n.findElementNode(e.rightChild,t):e},n.root.color=ae.TreeNodeColorType.black,n.header.parent=n.root,n.root.parent=n.header,n.cmp=e,n}var de,pe,y=((undefined&&undefined.__extends||(de=function(e,t){return(de=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}de(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}))(ye,pe=c),ye.prototype._pre=function(){var e=this.node;if(e.color===ae.TreeNodeColorType.red&&e.parent.parent===e)e=e.rightChild;else if(e.leftChild)for(e=e.leftChild;e.rightChild;)e=e.rightChild;else{for(var t=e.parent;t.leftChild===e;)t=(e=t).parent;e=t}return e},ye.prototype._next=function(){var e=this.node;if(e.rightChild)for(e=e.rightChild;e.leftChild;)e=e.leftChild;else{for(var t=e.parent;t.rightChild===e;)t=(e=t).parent;e.rightChild!==t&&(e=t)}return e},ye.prototype.pre=function(){if("reverse"===this.iteratorType){if(this.node===this.header.rightChild)throw new s("Tree iterator access denied!");this.node=this._next()}else{if(this.node===this.header.leftChild)throw new s("Tree iterator access denied!");this.node=this._pre()}return this},ye.prototype.next=function(){if("reverse"===this.iteratorType){if(this.node===this.header)throw new s("Tree iterator access denied!");this.node=this._pre()}else{if(this.node===this.header)throw new s("Tree iterator access denied!");this.node=this._next()}return this},ye.prototype.equals=function(e){if(e.constructor.name!==this.constructor.name)throw new TypeError("obj's constructor is not ".concat(this.constructor.name,"!"));if(this.iteratorType!==e.iteratorType)throw new TypeError("iterator type error!");return this.node===e.node},ye);function ye(e,t,r){r=pe.call(this,r)||this;return r.node=e,r.header=t,r}var be,ve,c=undefined&&undefined.__extends||(be=function(e,t){return(be=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}be(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),ge=undefined&&undefined.__generator||function(r,n){var i,o,h,s={label:0,sent:function(){if(1&h[0])throw h[1];return h[1]},trys:[],ops:[]},e={next:t(0),"throw":t(1),"return":t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return a([t,e])}}function a(e){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,o&&(h=2&e[0]?o["return"]:e[0]?o["throw"]||((h=o["return"])&&h.call(o),0):o.next)&&!(h=h.call(o,e[1])).done)return h;switch(o=0,(e=h?[2&e[0],h.value]:e)[0]){case 0:case 1:h=e;break;case 4:return s.label++,{value:e[1],done:!1};case 5:s.label++,o=e[1],e=[0];continue;case 7:e=s.ops.pop(),s.trys.pop();continue;default:if(!(h=0<(h=s.trys).length&&h[h.length-1])&&(6===e[0]||2===e[0])){s=0;continue}if(3===e[0]&&(!h||e[1]>h[0]&&e[1]<h[3])){s.label=e[1];break}if(6===e[0]&&s.label<h[1]){s.label=h[1],h=e;break}if(h&&s.label<h[2]){s.label=h[2],s.ops.push(e);break}h[2]&&s.ops.pop(),s.trys.pop();continue}e=n.call(r,s)}catch(t){e=[6,t],o=0}finally{i=h=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}},we=undefined&&undefined.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return{value:(e=e&&n>=e.length?void 0:e)&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},me=(c(ke,ve=y),Object.defineProperty(ke.prototype,"pointer",{get:function(){if(this.node.key===undefined)throw new s("OrderedSet iterator access denied!");return this.node.key},enumerable:!1,configurable:!0}),ke);function ke(e,t,r){return ve.call(this,e,t,r=void 0===r?"normal":r)||this}var Te,Ce=(c(_e,Te=E),_e.prototype.begin=function(){return new me(this.header.leftChild||this.header,this.header)},_e.prototype.end=function(){return new me(this.header,this.header)},_e.prototype.rBegin=function(){return new me(this.header.rightChild||this.header,this.header,"reverse")},_e.prototype.rEnd=function(){return new me(this.header,this.header,"reverse")},_e.prototype.front=function(){var e;return null===(e=this.header.leftChild)||void 0===e?void 0:e.key},_e.prototype.back=function(){var e;return null===(e=this.header.rightChild)||void 0===e?void 0:e.key},_e.prototype.forEach=function(e){var t,r,n=0;try{for(var i=we(this),o=i.next();!o.done;o=i.next())e(o.value,n++)}catch(h){t={error:h}}finally{try{o&&!o.done&&(r=i["return"])&&r.call(i)}finally{if(t)throw t.error}}},_e.prototype.getElementByPos=function(e){var t,r,n;g(e,0,this.length-1);var i=0;try{for(var o=we(this),h=o.next();!h.done;h=o.next()){var s=h.value;i===e&&(n=s),++i}}catch(a){t={error:a}}finally{try{h&&!h.done&&(r=o["return"])&&r.call(o)}finally{if(t)throw t.error}}return n},_e.prototype.eraseElementByIterator=function(e){var t=e.node;return e=e.next(),this.eraseNode(t),e},_e.prototype.insert=function(e){if(v(e),!this.length)return++this.length,this.root.key=e,this.root.color=ae.TreeNodeColorType.black,this.header.leftChild=this.root,void(this.header.rightChild=this.root);var t=this.findInsertPos(this.root,e);t.key!==undefined&&0===this.cmp(t.key,e)||(++this.length,t.key=e,(this.header.leftChild===undefined||this.header.leftChild.key===undefined||0<this.cmp(this.header.leftChild.key,e))&&(this.header.leftChild=t),(this.header.rightChild===undefined||this.header.rightChild.key===undefined||this.cmp(this.header.rightChild.key,e)<0)&&(this.header.rightChild=t),this.insertNodeSelfBalance(t),this.root.color=ae.TreeNodeColorType.black)},_e.prototype.find=function(e){e=this.findElementNode(this.root,e);return e!==undefined&&e.key!==undefined?new me(e,this.header):this.end()},_e.prototype.lowerBound=function(e){e=this._lowerBound(this.root,e);return e===undefined?this.end():new me(e,this.header)},_e.prototype.upperBound=function(e){e=this._upperBound(this.root,e);return e===undefined?this.end():new me(e,this.header)},_e.prototype.reverseLowerBound=function(e){e=this._reverseLowerBound(this.root,e);return e===undefined?this.end():new me(e,this.header)},_e.prototype.reverseUpperBound=function(e){e=this._reverseUpperBound(this.root,e);return e===undefined?this.end():new me(e,this.header)},_e.prototype.union=function(e){var t=this;e.forEach(function(e){return t.insert(e)})},_e.prototype[Symbol.iterator]=function(){return this.iterationFunc(this.root)},_e);function _e(e,t){void 0===e&&(e=[]);var r=Te.call(this,t)||this;return r.iterationFunc=function(t){return ge(this,function(e){switch(e.label){case 0:return t&&t.key!==undefined?[5,we(this.iterationFunc(t.leftChild))]:[2];case 1:return e.sent(),[4,t.key];case 2:return e.sent(),[5,we(this.iterationFunc(t.rightChild))];case 3:return e.sent(),[2]}})},e.forEach(function(e){return r.insert(e)}),r.iterationFunc=r.iterationFunc.bind(r),r}var Ee,xe,c=undefined&&undefined.__extends||(Ee=function(e,t){return(Ee=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}Ee(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),Be=undefined&&undefined.__generator||function(r,n){var i,o,h,s={label:0,sent:function(){if(1&h[0])throw h[1];return h[1]},trys:[],ops:[]},e={next:t(0),"throw":t(1),"return":t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return a([t,e])}}function a(e){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,o&&(h=2&e[0]?o["return"]:e[0]?o["throw"]||((h=o["return"])&&h.call(o),0):o.next)&&!(h=h.call(o,e[1])).done)return h;switch(o=0,(e=h?[2&e[0],h.value]:e)[0]){case 0:case 1:h=e;break;case 4:return s.label++,{value:e[1],done:!1};case 5:s.label++,o=e[1],e=[0];continue;case 7:e=s.ops.pop(),s.trys.pop();continue;default:if(!(h=0<(h=s.trys).length&&h[h.length-1])&&(6===e[0]||2===e[0])){s=0;continue}if(3===e[0]&&(!h||e[1]>h[0]&&e[1]<h[3])){s.label=e[1];break}if(6===e[0]&&s.label<h[1]){s.label=h[1],h=e;break}if(h&&s.label<h[2]){s.label=h[2],s.ops.push(e);break}h[2]&&s.ops.pop(),s.trys.pop();continue}e=n.call(r,s)}catch(t){e=[6,t],o=0}finally{i=h=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}},Ne=undefined&&undefined.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),h=[];try{for(;(void 0===t||0<t--)&&!(n=o.next()).done;)h.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(r=o["return"])&&r.call(o)}finally{if(i)throw i.error}}return h},Se=undefined&&undefined.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return{value:(e=e&&n>=e.length?void 0:e)&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Pe=(c(Oe,xe=y),Object.defineProperty(Oe.prototype,"pointer",{get:function(){var n=this;if(this.node.key===undefined)throw new s("OrderedMap iterator access denied");return new Proxy([this.node.key,this.node.value],{get:function(e,t){t=Number(t);if(Number.isNaN(t))throw new TypeError("prop must be number");return g(t,0,1),0===t?n.node.key:n.node.value},set:function(e,t,r){t=Number(t);if(Number.isNaN(t))throw new TypeError("prop must be number");return g(t,1,1),n.node.value=r,!0}})},enumerable:!1,configurable:!0}),Oe);function Oe(e,t,r){return xe.call(this,e,t,r=void 0===r?"normal":r)||this}var ze,je=(c(Fe,ze=E),Fe.prototype.begin=function(){return new Pe(this.header.leftChild||this.header,this.header)},Fe.prototype.end=function(){return new Pe(this.header,this.header)},Fe.prototype.rBegin=function(){return new Pe(this.header.rightChild||this.header,this.header,"reverse")},Fe.prototype.rEnd=function(){return new Pe(this.header,this.header,"reverse")},Fe.prototype.front=function(){if(!this.length)return undefined;var e=this.header.leftChild;return[e.key,e.value]},Fe.prototype.back=function(){if(!this.length)return undefined;var e=this.header.rightChild;return[e.key,e.value]},Fe.prototype.forEach=function(e){var t,r,n=0;try{for(var i=Se(this),o=i.next();!o.done;o=i.next())e(o.value,n++)}catch(h){t={error:h}}finally{try{o&&!o.done&&(r=i["return"])&&r.call(i)}finally{if(t)throw t.error}}},Fe.prototype.lowerBound=function(e){e=this._lowerBound(this.root,e);return e===undefined?this.end():new Pe(e,this.header)},Fe.prototype.upperBound=function(e){e=this._upperBound(this.root,e);return e===undefined?this.end():new Pe(e,this.header)},Fe.prototype.reverseLowerBound=function(e){e=this._reverseLowerBound(this.root,e);return e===undefined?this.end():new Pe(e,this.header)},Fe.prototype.reverseUpperBound=function(e){e=this._reverseUpperBound(this.root,e);return e===undefined?this.end():new Pe(e,this.header)},Fe.prototype.setElement=function(e,t){if(v(e),null!==t&&t!==undefined){if(!this.length)return++this.length,this.root.key=e,this.root.value=t,this.root.color=ae.TreeNodeColorType.black,this.header.leftChild=this.root,void(this.header.rightChild=this.root);var r=this.findInsertPos(this.root,e);r.key===undefined||0!==this.cmp(r.key,e)?(++this.length,r.key=e,r.value=t,(this.header.leftChild===undefined||this.header.leftChild.key===undefined||0<this.cmp(this.header.leftChild.key,e))&&(this.header.leftChild=r),(this.header.rightChild===undefined||this.header.rightChild.key===undefined||this.cmp(this.header.rightChild.key,e)<0)&&(this.header.rightChild=r),this.insertNodeSelfBalance(r),this.root.color=ae.TreeNodeColorType.black):r.value=t}else this.eraseElementByKey(e)},Fe.prototype.find=function(e){e=this.findElementNode(this.root,e);return e!==undefined&&e.key!==undefined?new Pe(e,this.header):this.end()},Fe.prototype.getElementByKey=function(e){e=this.findElementNode(this.root,e);return(null==e?void 0:e.value)===undefined?undefined:e.value},Fe.prototype.getElementByPos=function(e){var t,r,n;g(e,0,this.length-1);var i=0;try{for(var o=Se(this),h=o.next();!h.done;h=o.next()){var s=h.value;if(i===e){n=s;break}++i}}catch(a){t={error:a}}finally{try{h&&!h.done&&(r=o["return"])&&r.call(o)}finally{if(t)throw t.error}}return n},Fe.prototype.eraseElementByIterator=function(e){var t=e.node;return e=e.next(),this.eraseNode(t),e},Fe.prototype.union=function(e){var r=this;e.forEach(function(e){var t=Ne(e,2),e=t[0],t=t[1];return r.setElement(e,t)})},Fe.prototype[Symbol.iterator]=function(){return this.iterationFunc(this.root)},Fe);function Fe(e,t){void 0===e&&(e=[]);var r=ze.call(this,t)||this;return r.iterationFunc=function(t){return Be(this,function(e){switch(e.label){case 0:return t&&t.key!==undefined&&t.value!==undefined?[5,Se(this.iterationFunc(t.leftChild))]:[2];case 1:return e.sent(),[4,[t.key,t.value]];case 2:return e.sent(),[5,Se(this.iterationFunc(t.rightChild))];case 3:return e.sent(),[2]}})},r.iterationFunc=r.iterationFunc.bind(r),e.forEach(function(e){var t=Ne(e,2),e=t[0],t=t[1];return r.setElement(e,t)}),r}var Le,Ie,Ae=((undefined&&undefined.__extends||(Le=function(e,t){return(Le=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}Le(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}))(Me,Ie=f),Me.maxBucketNum=1<<30,Me.initBucketNum=16,Me.sigma=.75,Me.treeifyThreshold=8,Me.untreeifyThreshold=6,Me.minTreeifySize=64,Me);function Me(e,t){void 0===e&&(e=Me.initBucketNum),void 0===t&&(t=function(e){for(var t=0,r="",r="string"!=typeof e?JSON.stringify(e):e,n=0;n<r.length;n++){t=(t<<5)-t+r.charCodeAt(n);t&=t}return t^=t>>>16});var r=Ie.call(this)||this;if(0!=(e&e-1))throw new u("initBucketNum must be 2 to the power of n");return r.initBucketNum=Math.max(e,Me.initBucketNum),r.bucketNum=r.initBucketNum,r.hashFunc=t,r}var Qe,qe,c=undefined&&undefined.__extends||(Qe=function(e,t){return(Qe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}Qe(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),Ke=undefined&&undefined.__generator||function(r,n){var i,o,h,s={label:0,sent:function(){if(1&h[0])throw h[1];return h[1]},trys:[],ops:[]},e={next:t(0),"throw":t(1),"return":t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return a([t,e])}}function a(e){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,o&&(h=2&e[0]?o["return"]:e[0]?o["throw"]||((h=o["return"])&&h.call(o),0):o.next)&&!(h=h.call(o,e[1])).done)return h;switch(o=0,(e=h?[2&e[0],h.value]:e)[0]){case 0:case 1:h=e;break;case 4:return s.label++,{value:e[1],done:!1};case 5:s.label++,o=e[1],e=[0];continue;case 7:e=s.ops.pop(),s.trys.pop();continue;default:if(!(h=0<(h=s.trys).length&&h[h.length-1])&&(6===e[0]||2===e[0])){s=0;continue}if(3===e[0]&&(!h||e[1]>h[0]&&e[1]<h[3])){s.label=e[1];break}if(6===e[0]&&s.label<h[1]){s.label=h[1],h=e;break}if(h&&s.label<h[2]){s.label=h[2],s.ops.push(e);break}h[2]&&s.ops.pop(),s.trys.pop();continue}e=n.call(r,s)}catch(t){e=[6,t],o=0}finally{i=h=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}},De=undefined&&undefined.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return{value:(e=e&&n>=e.length?void 0:e)&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},f=(c(Ge,qe=Ae),Ge.prototype.reAllocate=function(s){var a,u=this;Ge.maxBucketNum<=s||(this.bucketNum=2*s,a=[],this.hashTable.forEach(function(e,t){var r,n,i,o,h;e.empty()||(e instanceof H&&1===e.size()?(r=e.front(),a[u.hashFunc(r)&u.bucketNum-1]=new H([r])):e instanceof Ce?(n=new H,i=new H,e.forEach(function(e){(0==(u.hashFunc(e)&s)?n:i).pushBack(e)}),n.size()>Ge.untreeifyThreshold?a[t]=new Ce(n):n.size()&&(a[t]=n),i.size()>Ge.untreeifyThreshold?a[t+s]=new Ce(i):i.size()&&(a[t+s]=i)):(o=new H,h=new H,e.forEach(function(e){(0==(u.hashFunc(e)&s)?o:h).pushBack(e)}),o.size()>=Ge.treeifyThreshold?a[t]=new Ce(o):o.size()&&(a[t]=o),h.size()>=Ge.treeifyThreshold?a[t+s]=new Ce(h):h.size()&&(a[t+s]=h)),u.hashTable[t].clear())}),this.hashTable=a)},Ge.prototype.clear=function(){this.length=0,this.bucketNum=this.initBucketNum,this.hashTable=[]},Ge.prototype.forEach=function(t){var r=0;this.hashTable.forEach(function(e){e.forEach(function(e){t(e,r++)})})},Ge.prototype.insert=function(e){v(e);var t=this.hashFunc(e)&this.bucketNum-1;if(this.hashTable[t]){var r=this.hashTable[t].size();if(this.hashTable[t]instanceof H){if(!this.hashTable[t].find(e).equals(this.hashTable[t].end()))return;if(this.hashTable[t].pushBack(e),this.bucketNum<=Ge.minTreeifySize)return++this.length,void this.reAllocate(this.bucketNum);this.hashTable[t].size()>=Ge.treeifyThreshold&&(this.hashTable[t]=new Ce(this.hashTable[t]))}else this.hashTable[t].insert(e);var n=this.hashTable[t].size();this.length+=n-r}else this.hashTable[t]=new H([e]),++this.length;this.length>this.bucketNum*Ge.sigma&&this.reAllocate(this.bucketNum)},Ge.prototype.eraseElementByKey=function(e){var t,r=this.hashFunc(e)&this.bucketNum-1;this.hashTable[r]&&(t=this.hashTable[r].size(),this.hashTable[r]instanceof H?this.hashTable[r].eraseElementByValue(e):this.hashTable[r].eraseElementByKey(e),this.hashTable[r]instanceof Ce&&this.hashTable[r].size()<=Ge.untreeifyThreshold&&(this.hashTable[r]=new H(this.hashTable[r])),r=this.hashTable[r].size(),this.length+=r-t)},Ge.prototype.find=function(e){var t=this.hashFunc(e)&this.bucketNum-1;return!!this.hashTable[t]&&!this.hashTable[t].find(e).equals(this.hashTable[t].end())},Ge.prototype[Symbol.iterator]=function(){return function(){var t,r,n,i,o,h;return Ke(this,function(e){switch(e.label){case 0:t=0,e.label=1;case 1:if(!(t<this.bucketNum))return[3,10];for(;t<this.bucketNum&&!this.hashTable[t];)++t;if(t>=this.bucketNum)return[3,10];e.label=2;case 2:e.trys.push([2,7,8,9]),o=void 0,r=De(this.hashTable[t]),n=r.next(),e.label=3;case 3:return n.done?[3,6]:[4,n.value];case 4:e.sent(),e.label=5;case 5:return n=r.next(),[3,3];case 6:return[3,9];case 7:return i=e.sent(),o={error:i},[3,9];case 8:try{n&&!n.done&&(h=r["return"])&&h.call(r)}finally{if(o)throw o.error}return[7];case 9:return++t,[3,1];case 10:return[2]}})}.bind(this)()},Ge);function Ge(e,t,r){void 0===e&&(e=[]);var n=qe.call(this,t,r)||this;return n.hashTable=[],e.forEach(function(e){return n.insert(e)}),n}var Re,Ue,c=undefined&&undefined.__extends||(Re=function(e,t){return(Re=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}Re(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),Ve=undefined&&undefined.__generator||function(r,n){var i,o,h,s={label:0,sent:function(){if(1&h[0])throw h[1];return h[1]},trys:[],ops:[]},e={next:t(0),"throw":t(1),"return":t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return a([t,e])}}function a(e){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,o&&(h=2&e[0]?o["return"]:e[0]?o["throw"]||((h=o["return"])&&h.call(o),0):o.next)&&!(h=h.call(o,e[1])).done)return h;switch(o=0,(e=h?[2&e[0],h.value]:e)[0]){case 0:case 1:h=e;break;case 4:return s.label++,{value:e[1],done:!1};case 5:s.label++,o=e[1],e=[0];continue;case 7:e=s.ops.pop(),s.trys.pop();continue;default:if(!(h=0<(h=s.trys).length&&h[h.length-1])&&(6===e[0]||2===e[0])){s=0;continue}if(3===e[0]&&(!h||e[1]>h[0]&&e[1]<h[3])){s.label=e[1];break}if(6===e[0]&&s.label<h[1]){s.label=h[1],h=e;break}if(h&&s.label<h[2]){s.label=h[2],s.ops.push(e);break}h[2]&&s.ops.pop(),s.trys.pop();continue}e=n.call(r,s)}catch(t){e=[6,t],o=0}finally{i=h=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}},He=undefined&&undefined.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return{value:(e=e&&n>=e.length?void 0:e)&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},c=(c(Je,Ue=Ae),Je.prototype.reAllocate=function(s){var a,u=this;Ae.maxBucketNum<=s||(this.bucketNum=Math.min(s<<1,Ae.maxBucketNum),a=[],this.hashTable.forEach(function(e,t){var r,n,i,o,h;e.empty()||(e instanceof H&&1===e.size()?(r=e.front(),a[u.hashFunc(r[0])&u.bucketNum-1]=new H([r])):e instanceof je?(n=new H,i=new H,e.forEach(function(e){(0==(u.hashFunc(e[0])&s)?n:i).pushBack(e)}),n.size()>Je.untreeifyThreshold?a[t]=new je(n):n.size()&&(a[t]=n),i.size()>Je.untreeifyThreshold?a[t+s]=new je(i):i.size()&&(a[t+s]=i)):(o=new H,h=new H,e.forEach(function(e){(0==(u.hashFunc(e[0])&s)?o:h).pushBack(e)}),o.size()>=Je.treeifyThreshold?a[t]=new je(o):o.size()&&(a[t]=o),h.size()>=Je.treeifyThreshold?a[t+s]=new je(h):h.size()&&(a[t+s]=h)),u.hashTable[t].clear())}),this.hashTable=a)},Je.prototype.clear=function(){this.length=0,this.bucketNum=this.initBucketNum,this.hashTable=[]},Je.prototype.forEach=function(t){var r=0;this.hashTable.forEach(function(e){e.forEach(function(e){t(e,r++)})})},Je.prototype.setElement=function(e,t){var r,n;if(v(e),null!==t&&t!==undefined){var i=this.hashFunc(e)&this.bucketNum-1;if(i in this.hashTable==!1)++this.length,this.hashTable[i]=new H([[e,t]]);else{var o=this.hashTable[i].size();if(this.hashTable[i]instanceof H){try{for(var h=He(this.hashTable[i]),s=h.next();!s.done;s=h.next()){var a=s.value;if(a[0]===e)return void(a[1]=t)}}catch(u){r={error:u}}finally{try{s&&!s.done&&(n=h["return"])&&n.call(h)}finally{if(r)throw r.error}}if(this.hashTable[i].pushBack([e,t]),this.bucketNum<=Je.minTreeifySize)return this.reAllocate(this.bucketNum),void++this.length;this.hashTable[i].size()>=Je.treeifyThreshold&&(this.hashTable[i]=new je(this.hashTable[i]))}else this.hashTable[i].setElement(e,t);i=this.hashTable[i].size();this.length+=i-o}this.length>this.bucketNum*Je.sigma&&this.reAllocate(this.bucketNum)}else this.eraseElementByKey(e)},Je.prototype.getElementByKey=function(e){var t,r,n=this.hashFunc(e)&this.bucketNum-1;if(!this.hashTable[n])return undefined;if(this.hashTable[n]instanceof je)return this.hashTable[n].getElementByKey(e);try{for(var i=He(this.hashTable[n]),o=i.next();!o.done;o=i.next()){var h=o.value;if(h[0]===e)return h[1]}}catch(s){t={error:s}}finally{try{o&&!o.done&&(r=i["return"])&&r.call(i)}finally{if(t)throw t.error}}return undefined},Je.prototype.eraseElementByKey=function(e){var t,r=this.hashFunc(e)&this.bucketNum-1;if(this.hashTable[r]){var n=this.hashTable[r].size();if(this.hashTable[r]instanceof je)this.hashTable[r].eraseElementByKey(e),this.hashTable[r].size()<=Je.untreeifyThreshold&&(this.hashTable[r]=new H(this.hashTable[r]));else{var i=-1;try{for(var o=He(this.hashTable[r]),h=o.next();!h.done;h=o.next()){var s=h.value;if(++i,s[0]===e){this.hashTable[r].eraseElementByPos(i);break}}}catch(u){a={error:u}}finally{try{h&&!h.done&&(t=o["return"])&&t.call(o)}finally{if(a)throw a.error}}}var a=this.hashTable[r].size();this.length+=a-n}},Je.prototype.find=function(e){var t,r,n=this.hashFunc(e)&this.bucketNum-1;if(!this.hashTable[n])return!1;if(this.hashTable[n]instanceof je)return!this.hashTable[n].find(e).equals(this.hashTable[n].end());try{for(var i=He(this.hashTable[n]),o=i.next();!o.done;o=i.next())if(o.value[0]===e)return!0}catch(h){t={error:h}}finally{try{o&&!o.done&&(r=i["return"])&&r.call(i)}finally{if(t)throw t.error}}return!1},Je.prototype[Symbol.iterator]=function(){return function(){var t,r,n,i,o,h;return Ve(this,function(e){switch(e.label){case 0:t=0,e.label=1;case 1:if(!(t<this.bucketNum))return[3,10];for(;t<this.bucketNum&&!this.hashTable[t];)++t;if(t>=this.bucketNum)return[3,10];e.label=2;case 2:e.trys.push([2,7,8,9]),o=void 0,r=He(this.hashTable[t]),n=r.next(),e.label=3;case 3:return n.done?[3,6]:[4,n.value];case 4:e.sent(),e.label=5;case 5:return n=r.next(),[3,3];case 6:return[3,9];case 7:return i=e.sent(),o={error:i},[3,9];case 8:try{n&&!n.done&&(h=r["return"])&&h.call(r)}finally{if(o)throw o.error}return[7];case 9:return++t,[3,1];case 10:return[2]}})}.bind(this)()},Je);function Je(e,t,r){void 0===e&&(e=[]);var n=Ue.call(this,t,r)||this;return n.hashTable=[],e.forEach(function(e){return n.setElement(e[0],e[1])}),n}e.Deque=K,e.DequeIterator=te,e.HashMap=c,e.HashSet=f,e.LinkList=H,e.LinkListIterator=R,e.OrderedMap=je,e.OrderedMapIterator=Pe,e.OrderedSet=Ce,e.OrderedSetIterator=me,e.PriorityQueue=k,e.Queue=l,e.Stack=A,e.Vector=j,e.VectorIterator=P,Object.defineProperty(e,"__esModule",{value:!0})});