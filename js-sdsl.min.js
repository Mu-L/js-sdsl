!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports):"function"==typeof define&&define.amd?define(["exports"],r):r((e="undefined"!=typeof globalThis?globalThis:e||self).sdsl={})}(this,function(e){"use strict";var t=undefined&&undefined.__generator||function(t,n){var i,o,l,u={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]},e={next:r(0),"throw":r(1),"return":r(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function r(r){return function(e){return h([r,e])}}function h(e){if(i)throw new TypeError("Generator is already executing.");for(;u;)try{if(i=1,o&&(l=2&e[0]?o["return"]:e[0]?o["throw"]||((l=o["return"])&&l.call(o),0):o.next)&&!(l=l.call(o,e[1])).done)return l;switch(o=0,(e=l?[2&e[0],l.value]:e)[0]){case 0:case 1:l=e;break;case 4:return u.label++,{value:e[1],done:!1};case 5:u.label++,o=e[1],e=[0];continue;case 7:e=u.ops.pop(),u.trys.pop();continue;default:if(!(l=0<(l=u.trys).length&&l[l.length-1])&&(6===e[0]||2===e[0])){u=0;continue}if(3===e[0]&&(!l||e[1]>l[0]&&e[1]<l[3])){u.label=e[1];break}if(6===e[0]&&u.label<l[1]){u.label=l[1],l=e;break}if(l&&u.label<l[2]){u.label=l[2],u.ops.push(e);break}l[2]&&u.ops.pop(),u.trys.pop();continue}e=n.call(t,u)}catch(r){e=[6,r],o=0}finally{i=l=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}},n=undefined&&undefined.__read||function(e,r){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var n,i,o=t.call(e),l=[];try{for(;(void 0===r||0<r--)&&!(n=o.next()).done;)l.push(n.value)}catch(u){i={error:u}}finally{try{n&&!n.done&&(t=o["return"])&&t.call(o)}finally{if(i)throw i.error}}return l},l=undefined&&undefined.__spreadArray||function(e,r,t){if(t||2===arguments.length)for(var n,i=0,o=r.length;i<o;i++)!n&&i in r||((n=n||Array.prototype.slice.call(r,0,i))[i]=r[i]);return e.concat(n||Array.prototype.slice.call(r))},u=undefined&&undefined.__values||function(e){var r="function"==typeof Symbol&&Symbol.iterator,t=r&&e[r],n=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return{value:(e=e&&n>=e.length?void 0:e)&&e[n++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")},h=function(r,e,t,n,i){void 0===i&&(i="normal"),Object.defineProperties(this,{iteratorType:{value:i},node:{value:r},pointer:{get:function(){if(r<0||r>=e())throw new Error("Deque iterator access denied!");return t(r)},set:function(e){n(r,e)},enumerable:!0}}),this.equals=function(e){if(e.constructor.name!==this.constructor.name)throw new Error("obj's constructor is not ".concat(this.constructor.name,"!"));if(this.iteratorType!==e.iteratorType)throw new Error("iterator type error!");return this.node===e.node},this.pre=function(){if("reverse"===this.iteratorType){if(r===e()-1)throw new Error("Deque iterator access denied!");return new h(r+1,e,t,n,this.iteratorType)}if(0===r)throw new Error("Deque iterator access denied!");return new h(r-1,e,t,n)},this.next=function(){if("reverse"===this.iteratorType){if(-1===r)throw new Error("Deque iterator access denied!");return new h(r-1,e,t,n,this.iteratorType)}if(r===e())throw new Error("Iterator access denied!");return new h(r+1,e,t,n)}};var f=undefined&&undefined.__generator||function(t,n){var i,o,l,u={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]},e={next:r(0),"throw":r(1),"return":r(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function r(r){return function(e){return h([r,e])}}function h(e){if(i)throw new TypeError("Generator is already executing.");for(;u;)try{if(i=1,o&&(l=2&e[0]?o["return"]:e[0]?o["throw"]||((l=o["return"])&&l.call(o),0):o.next)&&!(l=l.call(o,e[1])).done)return l;switch(o=0,(e=l?[2&e[0],l.value]:e)[0]){case 0:case 1:l=e;break;case 4:return u.label++,{value:e[1],done:!1};case 5:u.label++,o=e[1],e=[0];continue;case 7:e=u.ops.pop(),u.trys.pop();continue;default:if(!(l=0<(l=u.trys).length&&l[l.length-1])&&(6===e[0]||2===e[0])){u=0;continue}if(3===e[0]&&(!l||e[1]>l[0]&&e[1]<l[3])){u.label=e[1];break}if(6===e[0]&&u.label<l[1]){u.label=l[1],l=e;break}if(l&&u.label<l[2]){u.label=l[2],u.ops.push(e);break}l[2]&&u.ops.pop(),u.trys.pop();continue}e=n.call(t,u)}catch(r){e=[6,r],o=0}finally{i=l=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}},a=function(e){this.value=undefined,this.pre=undefined,this.next=undefined,this.value=e},s=function(r,e,t,n){void 0===n&&(n="normal"),Object.defineProperties(this,{iteratorType:{value:n},node:{value:r},pointer:{get:function(){return r.value},set:function(e){if(r.value===undefined)throw new Error("LinkList iterator access denied!");if(null===e||e===undefined)throw new Error("you can't push undefined or null here");r.value=e},enumerable:!0}}),this.equals=function(e){if(e.constructor.name!==this.constructor.name)throw new Error("obj's constructor is not ".concat(this.constructor.name,"!"));if(this.iteratorType!==e.iteratorType)throw new Error("iterator type error!");return this.node===e.node},this.pre=function(){if("reverse"===this.iteratorType){if(r===t)throw new Error("LinkList iterator access denied!");return new s(r.next||r,e,t,this.iteratorType)}if(r===e)throw new Error("LinkList iterator access denied!");return new s(r.pre||r,e,t)},this.next=function(){if("reverse"===this.iteratorType){if(r.value===undefined)throw new Error("LinkList iterator access denied!");return new s(r.pre||r,e,t,this.iteratorType)}if(r.value===undefined)throw new Error("LinkList iterator access denied!");return new s(r.next||r,e,t)}};function y(e){var r=this;void 0===e&&(e=[]);var l=0,u=undefined,i=undefined,o=new a;this.size=function(){return l},this.empty=function(){return 0===l},this.clear=function(){l=0,u=i=undefined,o.pre=o.next=undefined},this.begin=function(){return new s(u||o,u||o,i||o)},this.end=function(){return new s(o,u||o,i||o)},this.rBegin=function(){return new s(i||o,u||o,i||o)},this.rEnd=function(){return new s(o,u||o,i||o)},this.front=function(){return null==u?void 0:u.value},this.back=function(){return null==i?void 0:i.value},this.forEach=function(e){for(var r=u,t=0;r&&r!==o;){if(r.value===undefined)throw new Error("unknown error");e(r.value,t++),r=r.next}},this.getElementByPos=function(e){if(e<0||l<=e)throw new Error("pos must more then 0 and less then the list length");for(var r=u;e--&&r;)r=r.next;if(!r||r.value===undefined)throw new Error("unknown error");return r.value},this.eraseElementByPos=function(e){if(e<0||l<=e)throw new Error("erase pos must more then 0 and less then the list length");if(0===e)this.popFront();else if(e===l-1)this.popBack();else{for(var r=u;e--;){if(null==r||!r.next)throw new Error("unknown error");r=r.next}if(!r||!r.pre||!r.next)throw new Error("unknown error");var t=r.pre,n=r.next;(n.pre=t).next=n,0<l&&--l}},this.eraseElementByValue=function(e){for(;u&&u.value===e;)this.popFront();for(;i&&i.value===e;)this.popBack();if(u)for(var r,t,n=u;n&&n!==o;)n.value===e&&(r=n.pre,(t=n.next)&&(t.pre=r),r&&(r.next=t),0<l&&--l),n=n.next},this.pushBack=function(e){if(null===e||e===undefined)throw new Error("you can't push null or undefined here");++l;e=new a(e);i?((i.next=e).pre=i,i=e):(u=i=e,(o.next=u).pre=o),(i.next=o).pre=i},this.popBack=function(){i&&(0<l&&--l,u===i?(u=i=undefined,o.next=undefined):(i=i.pre)&&(i.next=undefined),(o.pre=i)&&(i.next=o))},this.setElementByPos=function(e,r){if(null===r||r===undefined)throw new Error("you can't set null or undefined here");if(e<0||l<=e)throw new Error("pos must more then 0 and less then the list length");for(var t=u;e--;){if(!t)throw new Error("unknown error");t=t.next}t&&(t.value=r)},this.insert=function(e,r,t){if(void 0===t&&(t=1),null===r||r===undefined)throw new Error("you can't insert null or undefined here");if(e<0||l<e)throw new Error("insert pos must more then 0 and less then or equal to the list length");if(t<0)throw new Error("insert size must more than 0");if(0===e)for(;t--;)this.pushFront(r);else if(e===l)for(;t--;)this.pushBack(r);else{for(var n=u,i=1;i<e;++i){if(null==n||!n.next)throw new Error("unknown error");n=null==n?void 0:n.next}if(!n)throw new Error("unknown error");var o=n.next;for(l+=t;t--;)n.next=new a(r),n=(n.next.pre=n).next;(n.next=o)&&(o.pre=n)}},this.find=function(e){for(var r=u;r&&r!==o;){if(r.value===e)return new s(r,u||o,i||o);r=r.next}return this.end()},this.reverse=function(){for(var e=u,r=i,t=0;e&&r&&2*t<l;){var n=e.value;e.value=r.value,r.value=n,e=e.next,r=r.pre,++t}},this.unique=function(){for(var e=u;e&&e!==o;){for(var r=e;r&&r.next&&r.value===r.next.value;)r=r.next,0<l&&--l;e.next=r.next,e.next&&(e.next.pre=e),e=e.next}},this.sort=function(e){var r=[];this.forEach(function(e){r.push(e)}),r.sort(e);var t=u;r.forEach(function(e){t&&(t.value=e,t=t.next)})},this.pushFront=function(e){if(null===e||e===undefined)throw new Error("you can't push null or undefined here");++l;e=new a(e);u?((e.next=u).pre=e,u=e):(u=i=e,(i.next=o).pre=i),(o.next=u).pre=o},this.popFront=function(){u&&(0<l&&--l,u===i?(u=i=undefined,o.pre=i):(u=u.next)&&(u.pre=o),o.next=u)},this.merge=function(e){var t=this,n=u;e.forEach(function(e){for(;n&&n!==o&&n.value!==undefined&&n.value<=e;)n=n.next;if(n===o)t.pushBack(e),n=i;else if(n===u)t.pushFront(e),n=u;else{if(!n)throw new Error("unknown error");++l;var r=n.pre;r&&(r.next=new a(e),((r.next.pre=r).next.next=n)&&(n.pre=r.next))}})},"symbol"==typeof Symbol.iterator&&(this[Symbol.iterator]=function(){return function(){var r;return f(this,function(e){switch(e.label){case 0:r=u,e.label=1;case 1:if(!r||r===o)return[3,3];if(!r.value)throw new Error("unknown error");return[4,r.value];case 2:return e.sent(),r=r.next,[3,1];case 3:return[2]}})}()}),e.forEach(function(e){return r.pushBack(e)})}var o=undefined&&undefined.__generator||function(t,n){var i,o,l,u={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]},e={next:r(0),"throw":r(1),"return":r(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function r(r){return function(e){return h([r,e])}}function h(e){if(i)throw new TypeError("Generator is already executing.");for(;u;)try{if(i=1,o&&(l=2&e[0]?o["return"]:e[0]?o["throw"]||((l=o["return"])&&l.call(o),0):o.next)&&!(l=l.call(o,e[1])).done)return l;switch(o=0,(e=l?[2&e[0],l.value]:e)[0]){case 0:case 1:l=e;break;case 4:return u.label++,{value:e[1],done:!1};case 5:u.label++,o=e[1],e=[0];continue;case 7:e=u.ops.pop(),u.trys.pop();continue;default:if(!(l=0<(l=u.trys).length&&l[l.length-1])&&(6===e[0]||2===e[0])){u=0;continue}if(3===e[0]&&(!l||e[1]>l[0]&&e[1]<l[3])){u.label=e[1];break}if(6===e[0]&&u.label<l[1]){u.label=l[1],l=e;break}if(l&&u.label<l[2]){u.label=l[2],u.ops.push(e);break}l[2]&&u.ops.pop(),u.trys.pop();continue}e=n.call(t,u)}catch(r){e=[6,r],o=0}finally{i=l=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}},v=function(r,e,t,n,i){void 0===i&&(i="normal"),Object.defineProperties(this,{iteratorType:{value:i},node:{value:r},pointer:{get:function(){if(r<0||r>=e())throw new Error("Deque iterator access denied!");return t(r)},set:function(e){n(r,e)},enumerable:!0}}),this.equals=function(e){if(e.constructor.name!==this.constructor.name)throw new Error("obj's constructor is not ".concat(this.constructor.name,"!"));if(this.iteratorType!==e.iteratorType)throw new Error("iterator type error!");return this.node===e.node},this.pre=function(){if("reverse"===this.iteratorType){if(r===e()-1)throw new Error("Deque iterator access denied!");return new v(r+1,e,t,n,this.iteratorType)}if(0===r)throw new Error("Deque iterator access denied!");return new v(r-1,e,t,n)},this.next=function(){if("reverse"===this.iteratorType){if(-1===r)throw new Error("Deque iterator access denied!");return new v(r-1,e,t,n,this.iteratorType)}if(r===e())throw new Error("Iterator access denied!");return new v(r+1,e,t,n)}};function w(t){var n=this;void 0===t&&(t=[]);var f=[],a=0,s=0,d=0,c=0,y=0,p=0;this.size=function(){return p},this.empty=function(){return 0===p},this.clear=function(){a=d=s=c=y=p=0,r.call(this,w.bucketSize),p=0},this.begin=function(){return new v(0,this.size,this.getElementByPos,this.setElementByPos)},this.end=function(){return new v(p,this.size,this.getElementByPos,this.setElementByPos)},this.rBegin=function(){return new v(p-1,this.size,this.getElementByPos,this.setElementByPos,"reverse")},this.rEnd=function(){return new v(-1,this.size,this.getElementByPos,this.setElementByPos,"reverse")},this.front=function(){return f[a][s]},this.back=function(){return f[d][c]},this.forEach=function(e){if(!this.empty()){var r=0;if(a!==d){for(n=s;n<w.bucketSize;++n)e(f[a][n],r++);for(n=a+1;n<d;++n)for(var t=0;t<w.bucketSize;++t)e(f[n][t],r++);for(n=0;n<=c;++n)e(f[d][n],r++)}else for(var n=s;n<=c;++n)e(f[a][n],r++)}};var i=function(e){var r=a*w.bucketSize+s,e=r+e;if(e<r||d*w.bucketSize+c<e)throw new Error("pos should more than 0 and less than queue's size");return{curNodeBucketIndex:Math.floor(e/w.bucketSize),curNodePointerIndex:e%w.bucketSize}};this.getElementByPos=function(e){var r=i(e),e=r.curNodeBucketIndex,r=r.curNodePointerIndex;return f[e][r]},this.eraseElementByPos=function(e){var r=this;if(e<0||p<e)throw new Error("pos should more than 0 and less than queue's size");if(0===e)this.popFront();else if(e===this.size())this.popBack();else{for(var t=[],n=e+1;n<p;++n)t.push(this.getElementByPos(n));this.cut(e),this.popBack(),t.forEach(function(e){return r.pushBack(e)})}},this.eraseElementByValue=function(r){if(!this.empty()){var t=[];this.forEach(function(e){e!==r&&t.push(e)});for(var e=t.length,n=0;n<e;++n)this.setElementByPos(n,t[n]);this.cut(e-1)}},this.eraseElementByIterator=function(e){var r=e.next();return this.eraseElementByPos(e.node),e=r};var r=function(e){for(var r=[],t=Math.max(Math.ceil(e*w.sigma/w.bucketSize),2),n=0;n<t;++n)r.push(new Array(w.bucketSize));var i=Math.ceil(e/w.bucketSize),o=Math.floor(t/2)-Math.floor(i/2),l=o,u=0;if(this.size())for(n=0;n<i;++n){for(var h=0;h<w.bucketSize;++h)if(r[o+n][h]=this.front(),this.popFront(),this.empty()){l=o+n,u=h;break}if(this.empty())break}f=r,a=o,s=0,d=l,c=u,y=t,p=e};this.pushBack=function(e){this.empty()||(d===y-1&&c===w.bucketSize-1&&r.call(this,this.size()),c<w.bucketSize-1?++c:d<y-1&&(++d,c=0)),++p,f[d][c]=e},this.popBack=function(){this.empty()||(1!==this.size()&&(0<c?--c:a<d&&(--d,c=w.bucketSize-1)),0<p&&--p)},this.setElementByPos=function(e,r){var t,n;r!==undefined&&null!==r?(t=(n=i(e)).curNodeBucketIndex,n=n.curNodePointerIndex,f[t][n]=r):this.eraseElementByPos(e)},this.insert=function(e,r,t){var n=this;if(void 0===t&&(t=1),r===undefined||null===r)throw new Error("you can't push undefined or null here");if(0===e)for(;t--;)this.pushFront(r);else if(e===this.size())for(;t--;)this.pushBack(r);else{for(var i=[],o=e;o<p;++o)i.push(this.getElementByPos(o));this.cut(e-1);for(o=0;o<t;++o)this.pushBack(r);i.forEach(function(e){return n.pushBack(e)})}},this.find=function(e){function r(e,r){return e===a?r-s:e===d?p-(c-r)-1:w.bucketSize-a+(e-2)*w.bucketSize+r}var t=undefined;if(a===d){for(var n=s;n<=c;++n)f[a][n]===e&&(t=r(a,n));return this.end()}for(n=s;n<w.bucketSize;++n)f[a][n]===e&&(t=r(a,n));if(t===undefined)for(n=a+1;n<d;++n)for(var i=0;i<w.bucketSize;++i)f[n][i]===e&&(t=r(a,n));if(t===undefined)for(n=0;n<=c;++n)f[d][n]===e&&(t=r(a,n));return t===undefined?this.end():0===t?this.begin():new v(t,this.size,this.getElementByPos,this.setElementByPos)},this.reverse=function(){for(var e=0,r=p-1;e<r;){var t=this.getElementByPos(e);this.setElementByPos(e,this.getElementByPos(r)),this.setElementByPos(r,t),++e,--r}},this.unique=function(){if(!this.empty()){var t=[],n=this.front();this.forEach(function(e,r){0!==r&&e===n||(t.push(e),n=e)});for(var e=0;e<p;++e)this.setElementByPos(e,t[e]);this.cut(t.length-1)}},this.sort=function(e){var r=[];this.forEach(function(e){r.push(e)}),r.sort(e);for(var t=0;t<p;++t)this.setElementByPos(t,r[t])},this.pushFront=function(e){if(e===undefined||null===e)throw new Error("you can't push undefined or null here");this.empty()||(0===a&&0===s&&r.call(this,this.size()),0<s?--s:0<a&&(--a,s=w.bucketSize-1)),++p,f[a][s]=e},this.popFront=function(){this.empty()||(1!==this.size()&&(s<w.bucketSize-1?++s:a<d&&(++a,s=0)),0<p&&--p)},this.shrinkToFit=function(){var r=this,t=[];this.forEach(function(e){t.push(e)});var e=t.length;f=[];for(var n=Math.ceil(e/w.bucketSize),i=0;i<n;++i)f.push(new Array(w.bucketSize));this.clear(),t.forEach(function(e){return r.pushBack(e)})},this.cut=function(e){var r,t;e<0?this.clear():(r=(t=i(e)).curNodeBucketIndex,t=t.curNodePointerIndex,d=r,c=t,p=e+1)},"symbol"==typeof Symbol.iterator&&(this[Symbol.iterator]=function(){return function(){var r,t;return o(this,function(e){switch(e.label){case 0:if(0===p)return[2];if(a!==d)return[3,5];t=s,e.label=1;case 1:return t<=c?[4,f[a][t]]:[3,4];case 2:e.sent(),e.label=3;case 3:return++t,[3,1];case 4:return[2];case 5:t=s,e.label=6;case 6:return t<w.bucketSize?[4,f[a][t]]:[3,9];case 7:e.sent(),e.label=8;case 8:return++t,[3,6];case 9:t=a+1,e.label=10;case 10:if(!(t<d))return[3,15];r=0,e.label=11;case 11:return r<w.bucketSize?[4,f[t][r]]:[3,14];case 12:e.sent(),e.label=13;case 13:return++r,[3,11];case 14:return++t,[3,10];case 15:t=0,e.label=16;case 16:return t<=c?[4,f[d][t]]:[3,19];case 17:e.sent(),e.label=18;case 18:return++t,[3,16];case 19:return[2]}})}()}),function(){var e=w.bucketSize;t.size?e=t.size():t.length&&(e=t.length),y=Math.ceil(e*w.sigma/w.bucketSize),y=Math.max(y,3);for(var r=0;r<y;++r)f.push(new Array(w.bucketSize));e=Math.ceil(e/w.bucketSize);a=Math.floor(y/2)-Math.floor(e/2),d=a,t.forEach(function(e){return n.pushBack(e)})}()}w.sigma=3,w.bucketSize=4096;var k=(r.prototype.rotateLeft=function(){var e=this.parent,r=this.brother,t=this.leftChild,n=this.rightChild;if(!n)throw new Error("unknown error");var i=n.leftChild,o=n.rightChild;return e&&e.key!==undefined&&(e.leftChild===this?e.leftChild=n:e.rightChild===this&&(e.rightChild=n)),n.parent=e,n.brother=r,n.leftChild=this,n.rightChild=o,r&&(r.brother=n),this.parent=n,this.brother=o,this.leftChild=t,this.rightChild=i,o&&(o.parent=n,o.brother=this),t&&(t.parent=this,t.brother=i),i&&(i.parent=this,i.brother=t),n},r.prototype.rotateRight=function(){var e=this.parent,r=this.brother,t=this.leftChild;if(!t)throw new Error("unknown error");var n=this.rightChild,i=t.leftChild,o=t.rightChild;return e&&e.key!==undefined&&(e.leftChild===this?e.leftChild=t:e.rightChild===this&&(e.rightChild=t)),t.parent=e,t.brother=r,t.leftChild=i,t.rightChild=this,r&&(r.brother=t),i&&(i.parent=t,i.brother=this),this.parent=t,this.brother=i,this.leftChild=o,this.rightChild=n,o&&(o.parent=this,o.brother=n),n&&(n.parent=this,n.brother=o),t},r.prototype.remove=function(){if(this.leftChild||this.rightChild)throw new Error("can only remove leaf node");this.parent&&(this===this.parent.leftChild?this.parent.leftChild=undefined:this===this.parent.rightChild&&(this.parent.rightChild=undefined)),this.brother&&(this.brother.brother=undefined),this.key=undefined,this.value=undefined,this.parent=undefined,this.brother=undefined},r.TreeNodeColorType={red:!0,black:!1},r);function r(e,r){this.color=!0,this.key=undefined,this.value=undefined,this.parent=undefined,this.brother=undefined,this.leftChild=undefined,this.rightChild=undefined,e!==undefined&&r!==undefined&&(this.key=e,this.value=r)}var g=function(n,r,e){void 0===e&&(e="normal"),Object.defineProperties(this,{iteratorType:{value:e},node:{value:n},pointer:{get:function(){if(n.key===undefined)throw new Error("Tree iterator access denied!");if(n.value===undefined)return n.key;var e={};return Object.defineProperties(e,{key:{get:function(){return n.key},enumerable:!0},value:{get:function(){return n.value},set:function(e){n.value=e},enumerable:!0}}),e},enumerable:!0}}),this.equals=function(e){if(e.constructor.name!==this.constructor.name)throw new Error("obj's constructor is not ".concat(this.constructor.name,"!"));if(this.iteratorType!==e.iteratorType)throw new Error("iterator type error!");return n===e.node};var t=function(){var e,r=n;if(r.color===k.TreeNodeColorType.red&&(null===(e=r.parent)||void 0===e?void 0:e.parent)===r)r=r.rightChild;else if(r.leftChild)for(r=r.leftChild;r.rightChild;)r=null==r?void 0:r.rightChild;else{for(var t=(null==r?void 0:r.parent)||undefined;(null==t?void 0:t.leftChild)===r;)t=(null==(r=t)?void 0:r.parent)||undefined;r=t}if(r===undefined)throw new Error("unknown error");return r},i=function(){var e=n;if(null!=e&&e.rightChild)for(e=e.rightChild;e.leftChild;)e=null==e?void 0:e.leftChild;else{for(var r=(null==e?void 0:e.parent)||undefined;(null==r?void 0:r.rightChild)===e;)r=(null==(e=r)?void 0:e.parent)||undefined;e.rightChild!==r&&(e=r)}if(e===undefined)throw new Error("unknown error");return e};this.pre=function(){if("reverse"===this.iteratorType){if(n===r.rightChild)throw new Error("Tree iterator access denied!");var e=i();return new g(e,r,this.iteratorType)}if(n===r.leftChild)throw new Error("Tree iterator access denied!");e=t();return new g(e,r)},this.next=function(){if("reverse"===this.iteratorType){if(n===r)throw new Error("Tree iterator access denied!");var e=t();return new g(e,r,this.iteratorType)}if(n===r)throw new Error("Tree iterator access denied!");e=i();return new g(e,r)}},b=undefined&&undefined.__generator||function(t,n){var i,o,l,u={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]},e={next:r(0),"throw":r(1),"return":r(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function r(r){return function(e){return h([r,e])}}function h(e){if(i)throw new TypeError("Generator is already executing.");for(;u;)try{if(i=1,o&&(l=2&e[0]?o["return"]:e[0]?o["throw"]||((l=o["return"])&&l.call(o),0):o.next)&&!(l=l.call(o,e[1])).done)return l;switch(o=0,(e=l?[2&e[0],l.value]:e)[0]){case 0:case 1:l=e;break;case 4:return u.label++,{value:e[1],done:!1};case 5:u.label++,o=e[1],e=[0];continue;case 7:e=u.ops.pop(),u.trys.pop();continue;default:if(!(l=0<(l=u.trys).length&&l[l.length-1])&&(6===e[0]||2===e[0])){u=0;continue}if(3===e[0]&&(!l||e[1]>l[0]&&e[1]<l[3])){u.label=e[1];break}if(6===e[0]&&u.label<l[1]){u.label=l[1],l=e;break}if(l&&u.label<l[2]){u.label=l[2],u.ops.push(e);break}l[2]&&u.ops.pop(),u.trys.pop();continue}e=n.call(t,u)}catch(r){e=[6,r],o=0}finally{i=l=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}},m=undefined&&undefined.__values||function(e){var r="function"==typeof Symbol&&Symbol.iterator,t=r&&e[r],n=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return{value:(e=e&&n>=e.length?void 0:e)&&e[n++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")};function d(e,o){var r=this;void 0===e&&(e=[]),o=o||function(e,r){return e<r?-1:r<e?1:0};var l=0,u=new k;u.color=k.TreeNodeColorType.black;var h=new k;(h.parent=u).parent=h,this.size=function(){return l},this.empty=function(){return 0===l},this.clear=function(){l=0,u.key=undefined,u.leftChild=u.rightChild=u.brother=undefined,h.leftChild=h.rightChild=undefined},this.begin=function(){return new g(h.leftChild||h,h)},this.end=function(){return new g(h,h)},this.rBegin=function(){return new g(h.rightChild||h,h)},this.rEnd=function(){return new g(h,h)};var f=function(e){if(!e||e.key===undefined)throw new Error("unknown error");return e.leftChild?f(e.leftChild):e},a=function(e){if(!e||e.key===undefined)throw new Error("unknown error");return e.rightChild?a(e.rightChild):e};this.front=function(){var e;return null===(e=h.leftChild)||void 0===e?void 0:e.key},this.back=function(){var e;return null===(e=h.rightChild)||void 0===e?void 0:e.key},this.forEach=function(e){var r,t,n=0;try{for(var i=m(this),o=i.next();!o.done;o=i.next())e(o.value,n++)}catch(l){r={error:l}}finally{try{o&&!o.done&&(t=i["return"])&&t.call(i)}finally{if(r)throw r.error}}},this.getElementByPos=function(e){var r,t;if(e<0||e>=this.size())throw new Error("pos must more than 0 and less than set's size");var n=0;try{for(var i=m(this),o=i.next();!o.done;o=i.next()){var l=o.value;if(n===e)return l;++n}}catch(u){r={error:u}}finally{try{o&&!o.done&&(t=i["return"])&&t.call(i)}finally{if(r)throw r.error}}throw new Error("unknown error")};var s=function(e){var r=e.parent;if(!r||r===h){if(e===u)return;throw new Error("unknown error")}if(e.color!==k.TreeNodeColorType.red){var t,n=e.brother;if(!n)throw new Error("unknown error");e===r.leftChild?n.color===k.TreeNodeColorType.red?(n.color=k.TreeNodeColorType.black,r.color=k.TreeNodeColorType.red,t=r.rotateLeft(),u===r&&(u=t,(h.parent=u).parent=h),s(e)):n.color===k.TreeNodeColorType.black&&(n.rightChild&&n.rightChild.color===k.TreeNodeColorType.red?(n.color=r.color,r.color=k.TreeNodeColorType.black,n.rightChild&&(n.rightChild.color=k.TreeNodeColorType.black),t=r.rotateLeft(),u===r&&(u=t,(h.parent=u).parent=h),e.color=k.TreeNodeColorType.black):n.rightChild&&n.rightChild.color!==k.TreeNodeColorType.black||!n.leftChild||n.leftChild.color!==k.TreeNodeColorType.red?n.leftChild&&n.leftChild.color!==k.TreeNodeColorType.black||n.rightChild&&n.rightChild.color!==k.TreeNodeColorType.black||(n.color=k.TreeNodeColorType.red,s(r)):(n.color=k.TreeNodeColorType.red,n.leftChild&&(n.leftChild.color=k.TreeNodeColorType.black),t=n.rotateRight(),u===n&&(u=t,(h.parent=u).parent=h),s(e))):e===r.rightChild&&(n.color===k.TreeNodeColorType.red?(n.color=k.TreeNodeColorType.black,r.color=k.TreeNodeColorType.red,t=r.rotateRight(),u===r&&(u=t,(h.parent=u).parent=h),s(e)):n.color===k.TreeNodeColorType.black&&(n.leftChild&&n.leftChild.color===k.TreeNodeColorType.red?(n.color=r.color,r.color=k.TreeNodeColorType.black,n.leftChild&&(n.leftChild.color=k.TreeNodeColorType.black),t=r.rotateRight(),u===r&&(u=t,(h.parent=u).parent=h),e.color=k.TreeNodeColorType.black):n.leftChild&&n.leftChild.color!==k.TreeNodeColorType.black||!n.rightChild||n.rightChild.color!==k.TreeNodeColorType.red?n.leftChild&&n.leftChild.color!==k.TreeNodeColorType.black||n.rightChild&&n.rightChild.color!==k.TreeNodeColorType.black||(n.color=k.TreeNodeColorType.red,s(r)):(n.color=k.TreeNodeColorType.red,n.rightChild&&(n.rightChild.color=k.TreeNodeColorType.black),t=n.rotateLeft(),u===n&&(u=t,(h.parent=u).parent=h),s(e))))}else e.color=k.TreeNodeColorType.black},n=function(e){for(var r,t,n,i=e;i.leftChild||i.rightChild;)i.rightChild&&(i=f(i.rightChild),n=e.key,e.key=i.key,i.key=n,e=i),i.leftChild&&(i=a(i.leftChild),n=e.key,e.key=i.key,i.key=n,e=i);if(i.key===undefined)throw new Error("unknown error");h.leftChild&&h.leftChild.key!==undefined&&0===o(h.leftChild.key,i.key)&&(h.leftChild!==u?h.leftChild=null===(r=h.leftChild)||void 0===r?void 0:r.parent:null!==(r=h.leftChild)&&void 0!==r&&r.rightChild?h.leftChild=null===(r=h.leftChild)||void 0===r?void 0:r.rightChild:h.leftChild=undefined),h.rightChild&&h.rightChild.key!==undefined&&0===o(h.rightChild.key,i.key)&&(h.rightChild!==u?h.rightChild=null===(t=h.rightChild)||void 0===t?void 0:t.parent:null!==(t=h.rightChild)&&void 0!==t&&t.leftChild?h.rightChild=null===(t=h.rightChild)||void 0===t?void 0:t.leftChild:h.rightChild=undefined),s(i),i&&i.remove(),--l,u.color=k.TreeNodeColorType.black},i=function(e,r){return!(!e||e.key===undefined)&&(!!i(e.leftChild,r)||(!!r(e)||i(e.rightChild,r)))};this.eraseElementByPos=function(r){if(r<0||l<=r)throw new Error("pos must more than 0 and less than set's size");var t=0;i(u,function(e){return r===t?(n(e),!0):(++t,!1)})},this.eraseElementByValue=function(e){var r;this.empty()||(r=y(u,e))!==undefined&&r.key!==undefined&&0===o(r.key,e)&&n(r)};var d=function(e,r){if(!e||e.key===undefined)throw new Error("unknown error");var t=o(r,e.key);return t<0?e.leftChild?d(e.leftChild,r):(e.leftChild=new k,(e.leftChild.parent=e).leftChild.brother=e.rightChild,e.rightChild&&(e.rightChild.brother=e.leftChild),e.leftChild):0<t?e.rightChild?d(e.rightChild,r):(e.rightChild=new k,(e.rightChild.parent=e).rightChild.brother=e.leftChild,e.leftChild&&(e.leftChild.brother=e.rightChild),e.rightChild):e},c=function(e){var r=e.parent;if(!r||r===h){if(e===u)return;throw new Error("unknown error")}if(r.color!==k.TreeNodeColorType.black&&r.color===k.TreeNodeColorType.red){var t,n=r.brother,i=r.parent;if(!i)throw new Error("unknown error");n&&n.color===k.TreeNodeColorType.red?(n.color=r.color=k.TreeNodeColorType.black,i.color=k.TreeNodeColorType.red,c(i)):n&&n.color!==k.TreeNodeColorType.black||(r===i.leftChild?e===r.leftChild?(r.color=k.TreeNodeColorType.black,i.color=k.TreeNodeColorType.red,t=i.rotateRight(),i===u&&(u=t,(h.parent=u).parent=h)):e===r.rightChild&&(t=r.rotateLeft(),r===u&&(u=t,(h.parent=u).parent=h),c(r)):r===i.rightChild&&(e===r.leftChild?(t=r.rotateRight(),r===u&&(u=t,(h.parent=u).parent=h),c(r)):e===r.rightChild&&(r.color=k.TreeNodeColorType.black,i.color=k.TreeNodeColorType.red,t=i.rotateLeft(),i===u&&(u=t,(h.parent=u).parent=h))))}};this.insert=function(e){if(null===e||e===undefined)throw new Error("to avoid some unnecessary errors, we don't suggest you insert null or undefined here");if(this.empty())return++l,u.key=e,u.color=k.TreeNodeColorType.black,h.leftChild=u,void(h.rightChild=u);var r=d(u,e);r.key!==undefined&&0===o(r.key,e)||(++l,r.key=e,(h.leftChild===undefined||h.leftChild.key===undefined||0<o(h.leftChild.key,e))&&(h.leftChild=r),(h.rightChild===undefined||h.rightChild.key===undefined||o(h.rightChild.key,e)<0)&&(h.rightChild=r),c(r),u.color=k.TreeNodeColorType.black)};var y=function(e,r){if(!e||e.key===undefined)return undefined;var t=o(r,e.key);return t<0?y(e.leftChild,r):0<t?y(e.rightChild,r):e};this.find=function(e){e=y(u,e);return e!==undefined&&e.key!==undefined?new g(e,h):this.end()};var p=function(e,r){if(!e||e.key===undefined)return undefined;var t=o(e.key,r);if(0===t)return e;if(t<0)return p(e.rightChild,r);r=p(e.leftChild,r);return r===undefined?e:r};this.lowerBound=function(e){e=p(u,e);return e===undefined?this.end():new g(e,h)};var t=function(e,r){if(!e||e.key===undefined)return undefined;if(o(e.key,r)<=0)return t(e.rightChild,r);r=t(e.leftChild,r);return r===undefined?e:r};this.upperBound=function(e){e=t(u,e);return e===undefined?this.end():new g(e,h)};var v=function(e,r){if(!e||e.key===undefined)return undefined;var t=o(e.key,r);if(0===t)return e;if(0<t)return v(e.leftChild,r);r=v(e.rightChild,r);return r===undefined?e:r};this.reverseLowerBound=function(e){e=v(u,e);return e===undefined?this.end():new g(e,h)};var w,C=function(e,r){if(!e||e.key===undefined)return undefined;if(0<=o(e.key,r))return C(e.leftChild,r);r=C(e.rightChild,r);return r===undefined?e:r};this.reverseUpperBound=function(e){e=C(u,e);return e===undefined?this.end():new g(e,h)},this.union=function(e){var r=this;e.forEach(function(e){return r.insert(e)})},this.getHeight=function(){if(this.empty())return 0;var r=function(e){return e?Math.max(r(e.leftChild),r(e.rightChild))+1:1};return r(u)},"symbol"==typeof Symbol.iterator&&(w=function(r){return b(this,function(e){switch(e.label){case 0:return r&&r.key!==undefined?[5,m(w(r.leftChild))]:[2];case 1:return e.sent(),[4,r.key];case 2:return e.sent(),[5,m(w(r.rightChild))];case 3:return e.sent(),[2]}})},this[Symbol.iterator]=function(){return w(u)}),e.forEach(function(e){return r.insert(e)})}var T=undefined&&undefined.__generator||function(t,n){var i,o,l,u={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]},e={next:r(0),"throw":r(1),"return":r(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function r(r){return function(e){return h([r,e])}}function h(e){if(i)throw new TypeError("Generator is already executing.");for(;u;)try{if(i=1,o&&(l=2&e[0]?o["return"]:e[0]?o["throw"]||((l=o["return"])&&l.call(o),0):o.next)&&!(l=l.call(o,e[1])).done)return l;switch(o=0,(e=l?[2&e[0],l.value]:e)[0]){case 0:case 1:l=e;break;case 4:return u.label++,{value:e[1],done:!1};case 5:u.label++,o=e[1],e=[0];continue;case 7:e=u.ops.pop(),u.trys.pop();continue;default:if(!(l=0<(l=u.trys).length&&l[l.length-1])&&(6===e[0]||2===e[0])){u=0;continue}if(3===e[0]&&(!l||e[1]>l[0]&&e[1]<l[3])){u.label=e[1];break}if(6===e[0]&&u.label<l[1]){u.label=l[1],l=e;break}if(l&&u.label<l[2]){u.label=l[2],u.ops.push(e);break}l[2]&&u.ops.pop(),u.trys.pop();continue}e=n.call(t,u)}catch(r){e=[6,r],o=0}finally{i=l=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}},E=undefined&&undefined.__values||function(e){var r="function"==typeof Symbol&&Symbol.iterator,t=r&&e[r],n=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return{value:(e=e&&n>=e.length?void 0:e)&&e[n++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")};function p(e,l){var t=this;void 0===e&&(e=[]),l=l||function(e,r){return e<r?-1:r<e?1:0};var u=0,h=new k;h.color=k.TreeNodeColorType.black;var f=new k;(f.parent=h).parent=f,this.size=function(){return u},this.empty=function(){return 0===u},this.clear=function(){u=0,h.key=h.value=undefined,h.leftChild=h.rightChild=h.brother=undefined,f.leftChild=f.rightChild=undefined},this.begin=function(){return new g(f.leftChild||f,f)},this.end=function(){return new g(f,f)},this.rBegin=function(){return new g(f.rightChild||f,f)},this.rEnd=function(){return new g(f,f)};var a=function(e){if(!e||e.key===undefined)throw new Error("unknown error");return e.leftChild?a(e.leftChild):e},s=function(e){if(!e||e.key===undefined)throw new Error("unknown error");return e.rightChild?s(e.rightChild):e};this.front=function(){if(this.empty())return undefined;var e=f.leftChild;if(!e||e.key===undefined||e.value===undefined)throw new Error("unknown error");return{key:e.key,value:e.value}},this.back=function(){if(this.empty())return undefined;var e=f.rightChild;if(!e||e.key===undefined||e.value===undefined)throw new Error("unknown error");return{key:e.key,value:e.value}},this.forEach=function(e){var r,t,n=0;try{for(var i=E(this),o=i.next();!o.done;o=i.next())e(o.value,n++)}catch(l){r={error:l}}finally{try{o&&!o.done&&(t=i["return"])&&t.call(i)}finally{if(r)throw r.error}}},this.getElementByPos=function(e){var r,t;if(e<0||e>=this.size())throw new Error("pos must more than 0 and less than set's size");var n=0;try{for(var i=E(this),o=i.next();!o.done;o=i.next()){var l=o.value;if(n===e)return l;++n}}catch(u){r={error:u}}finally{try{o&&!o.done&&(t=i["return"])&&t.call(i)}finally{if(r)throw r.error}}throw new Error("unknown Error")};var n=function(e,r){if(!e||e.key===undefined)return undefined;var t=l(e.key,r);if(0===t)return e;if(t<0)return n(e.rightChild,r);r=n(e.leftChild,r);return r===undefined?e:r};this.lowerBound=function(e){e=n(h,e);return e===undefined?this.end():new g(e,f)};var i=function(e,r){if(!e||e.key===undefined)return undefined;if(l(e.key,r)<=0)return i(e.rightChild,r);r=i(e.leftChild,r);return r===undefined?e:r};this.upperBound=function(e){e=i(h,e);return e===undefined?this.end():new g(e,f)};var o=function(e,r){if(!e||e.key===undefined)return undefined;var t=l(e.key,r);if(0===t)return e;if(0<t)return o(e.leftChild,r);r=o(e.rightChild,r);return r===undefined?e:r};this.reverseLowerBound=function(e){e=o(h,e);return e===undefined?this.end():new g(e,f)};var d=function(e,r){if(!e||e.key===undefined)return undefined;if(0<=l(e.key,r))return d(e.leftChild,r);r=d(e.rightChild,r);return r===undefined?e:r};this.reverseUpperBound=function(e){e=d(h,e);return e===undefined?this.end():new g(e,f)};var c=function(e){var r=e.parent;if(!r||r===f){if(e===h)return;throw new Error("unknown error")}if(e.color!==k.TreeNodeColorType.red){var t,n=e.brother;if(!n)throw new Error("unknown error");e===r.leftChild?n.color===k.TreeNodeColorType.red?(n.color=k.TreeNodeColorType.black,r.color=k.TreeNodeColorType.red,t=r.rotateLeft(),h===r&&(h=t,(f.parent=h).parent=f),c(e)):n.color===k.TreeNodeColorType.black&&(n.rightChild&&n.rightChild.color===k.TreeNodeColorType.red?(n.color=r.color,r.color=k.TreeNodeColorType.black,n.rightChild&&(n.rightChild.color=k.TreeNodeColorType.black),t=r.rotateLeft(),h===r&&(h=t,(f.parent=h).parent=f),e.color=k.TreeNodeColorType.black):n.rightChild&&n.rightChild.color!==k.TreeNodeColorType.black||!n.leftChild||n.leftChild.color!==k.TreeNodeColorType.red?n.leftChild&&n.leftChild.color!==k.TreeNodeColorType.black||n.rightChild&&n.rightChild.color!==k.TreeNodeColorType.black||(n.color=k.TreeNodeColorType.red,c(r)):(n.color=k.TreeNodeColorType.red,n.leftChild&&(n.leftChild.color=k.TreeNodeColorType.black),t=n.rotateRight(),h===n&&(h=t,(f.parent=h).parent=f),c(e))):e===r.rightChild&&(n.color===k.TreeNodeColorType.red?(n.color=k.TreeNodeColorType.black,r.color=k.TreeNodeColorType.red,t=r.rotateRight(),h===r&&(h=t,(f.parent=h).parent=f),c(e)):n.color===k.TreeNodeColorType.black&&(n.leftChild&&n.leftChild.color===k.TreeNodeColorType.red?(n.color=r.color,r.color=k.TreeNodeColorType.black,n.leftChild&&(n.leftChild.color=k.TreeNodeColorType.black),t=r.rotateRight(),h===r&&(h=t,(f.parent=h).parent=f),e.color=k.TreeNodeColorType.black):n.leftChild&&n.leftChild.color!==k.TreeNodeColorType.black||!n.rightChild||n.rightChild.color!==k.TreeNodeColorType.red?n.leftChild&&n.leftChild.color!==k.TreeNodeColorType.black||n.rightChild&&n.rightChild.color!==k.TreeNodeColorType.black||(n.color=k.TreeNodeColorType.red,c(r)):(n.color=k.TreeNodeColorType.red,n.rightChild&&(n.rightChild.color=k.TreeNodeColorType.black),t=n.rotateLeft(),h===n&&(h=t,(f.parent=h).parent=f),c(e))))}else e.color=k.TreeNodeColorType.black},y=function(e){for(var r,t,n,i,o=e;o.leftChild||o.rightChild;)o.rightChild&&(o=a(o.rightChild),n=e.key,e.key=o.key,o.key=n,i=e.value,e.value=o.value,o.value=i,e=o),o.leftChild&&(o=s(o.leftChild),n=e.key,e.key=o.key,o.key=n,i=e.value,e.value=o.value,o.value=i,e=o);if(o.key===undefined)throw new Error("unknown error");f.leftChild&&f.leftChild.key!==undefined&&0===l(f.leftChild.key,o.key)&&(f.leftChild!==h?f.leftChild=null===(r=f.leftChild)||void 0===r?void 0:r.parent:null!==(r=f.leftChild)&&void 0!==r&&r.rightChild?f.leftChild=null===(r=f.leftChild)||void 0===r?void 0:r.rightChild:f.leftChild=undefined),f.rightChild&&f.rightChild.key!==undefined&&0===l(f.rightChild.key,o.key)&&(f.rightChild!==h?f.rightChild=null===(t=f.rightChild)||void 0===t?void 0:t.parent:null!==(t=f.rightChild)&&void 0!==t&&t.leftChild?f.rightChild=null===(t=f.rightChild)||void 0===t?void 0:t.leftChild:f.rightChild=undefined),c(o),o&&o.remove(),--u,h.color=k.TreeNodeColorType.black},p=function(e,r){return!(!e||e.key===undefined)&&(!!p(e.leftChild,r)||(!!r(e)||p(e.rightChild,r)))};this.eraseElementByPos=function(r){if(r<0||u<=r)throw new Error("pos must more than 0 and less than set's size");var t=0;p(h,function(e){return r===t?(y(e),!0):(++t,!1)})},this.eraseElementByKey=function(e){var r;this.empty()||(r=b(h,e))!==undefined&&r.key!==undefined&&0===l(r.key,e)&&y(r)};var v=function(e,r){if(!e||e.key===undefined)throw new Error("unknown error");var t=l(r,e.key);return t<0?e.leftChild?v(e.leftChild,r):(e.leftChild=new k,(e.leftChild.parent=e).leftChild.brother=e.rightChild,e.rightChild&&(e.rightChild.brother=e.leftChild),e.leftChild):0<t?e.rightChild?v(e.rightChild,r):(e.rightChild=new k,(e.rightChild.parent=e).rightChild.brother=e.leftChild,e.leftChild&&(e.leftChild.brother=e.rightChild),e.rightChild):e},w=function(e){var r=e.parent;if(!r||r===f){if(e===h)return;throw new Error("unknown error")}if(r.color!==k.TreeNodeColorType.black&&r.color===k.TreeNodeColorType.red){var t,n=r.brother,i=r.parent;if(!i)throw new Error("unknown error");n&&n.color===k.TreeNodeColorType.red?(n.color=r.color=k.TreeNodeColorType.black,i.color=k.TreeNodeColorType.red,w(i)):n&&n.color!==k.TreeNodeColorType.black||(r===i.leftChild?e===r.leftChild?(r.color=k.TreeNodeColorType.black,i.color=k.TreeNodeColorType.red,t=i.rotateRight(),i===h&&(h=t,(f.parent=h).parent=f)):e===r.rightChild&&(t=r.rotateLeft(),r===h&&(h=t,(f.parent=h).parent=f),w(r)):r===i.rightChild&&(e===r.leftChild?(t=r.rotateRight(),r===h&&(h=t,(f.parent=h).parent=f),w(r)):e===r.rightChild&&(r.color=k.TreeNodeColorType.black,i.color=k.TreeNodeColorType.red,t=i.rotateLeft(),i===h&&(h=t,(f.parent=h).parent=f))))}};this.setElement=function(e,r){if(null===e||e===undefined)throw new Error("to avoid some unnecessary errors, we don't suggest you insert null or undefined here");if(null!==r&&r!==undefined){if(this.empty())return++u,h.key=e,h.value=r,h.color=k.TreeNodeColorType.black,f.leftChild=h,void(f.rightChild=h);var t=v(h,e);t.key===undefined||0!==l(t.key,e)?(++u,t.key=e,t.value=r,(f.leftChild===undefined||f.leftChild.key===undefined||0<l(f.leftChild.key,e))&&(f.leftChild=t),(f.rightChild===undefined||f.rightChild.key===undefined||l(f.rightChild.key,e)<0)&&(f.rightChild=t),w(t),h.color=k.TreeNodeColorType.black):t.value=r}else this.eraseElementByKey(e)};var C,b=function(e,r){if(!e||e.key===undefined)return undefined;var t=l(r,e.key);return t<0?b(e.leftChild,r):0<t?b(e.rightChild,r):e};this.find=function(e){e=b(h,e);return e===undefined||e.key===undefined?this.end():new g(e,f)},this.getElementByKey=function(e){e=b(h,e);if((null==e?void 0:e.key)===undefined||(null==e?void 0:e.value)===undefined)throw new Error("unknown error");return e.value},this.union=function(e){var t=this;e.forEach(function(e){var r=e.key,e=e.value;return t.setElement(r,e)})},this.getHeight=function(){if(this.empty())return 0;var r=function(e){return e?Math.max(r(e.leftChild),r(e.rightChild))+1:1};return r(h)},"symbol"==typeof Symbol.iterator&&(C=function(r){return T(this,function(e){switch(e.label){case 0:return r&&r.key!==undefined&&r.value!==undefined?[5,E(C(r.leftChild))]:[2];case 1:return e.sent(),[4,{key:r.key,value:r.value}];case 2:return e.sent(),[5,E(C(r.rightChild))];case 3:return e.sent(),[2]}})},this[Symbol.iterator]=function(){return C(h)}),e.forEach(function(e){var r=e.key,e=e.value;return t.setElement(r,e)})}var c=undefined&&undefined.__generator||function(t,n){var i,o,l,u={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]},e={next:r(0),"throw":r(1),"return":r(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function r(r){return function(e){return h([r,e])}}function h(e){if(i)throw new TypeError("Generator is already executing.");for(;u;)try{if(i=1,o&&(l=2&e[0]?o["return"]:e[0]?o["throw"]||((l=o["return"])&&l.call(o),0):o.next)&&!(l=l.call(o,e[1])).done)return l;switch(o=0,(e=l?[2&e[0],l.value]:e)[0]){case 0:case 1:l=e;break;case 4:return u.label++,{value:e[1],done:!1};case 5:u.label++,o=e[1],e=[0];continue;case 7:e=u.ops.pop(),u.trys.pop();continue;default:if(!(l=0<(l=u.trys).length&&l[l.length-1])&&(6===e[0]||2===e[0])){u=0;continue}if(3===e[0]&&(!l||e[1]>l[0]&&e[1]<l[3])){u.label=e[1];break}if(6===e[0]&&u.label<l[1]){u.label=l[1],l=e;break}if(l&&u.label<l[2]){u.label=l[2],u.ops.push(e);break}l[2]&&u.ops.pop(),u.trys.pop();continue}e=n.call(t,u)}catch(r){e=[6,r],o=0}finally{i=l=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}},C=undefined&&undefined.__values||function(e){var r="function"==typeof Symbol&&Symbol.iterator,t=r&&e[r],n=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return{value:(e=e&&n>=e.length?void 0:e)&&e[n++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")};function x(e,r,f){var t=this;if(void 0===e&&(e=[]),f=f||function(e){var r=0,t="";if("number"==typeof e)r=((r=Math.floor(e))<<5)-r,r&=r;else for(var t="string"!=typeof e?JSON.stringify(e):e,n=0;n<t.length;n++){r=(r<<5)-r+t.charCodeAt(n);r&=r}return r^=r>>>16},0!=((r=void 0===r?x.initSize:r)&r-1))throw new Error("initBucketNum must be 2 to the power of n");var i=0,a=[],s=Math.max(x.initSize,Math.min(x.maxSize,r));this.size=function(){return i},this.empty=function(){return 0===i},this.clear=function(){i=0,s=r,a=[]},this.forEach=function(r){var t=0;a.forEach(function(e){e.forEach(function(e){r(e,t++)})})};this.insert=function(e){if(null===e||e===undefined)throw new Error("to avoid some unnecessary errors, we don't suggest you insert null or undefined here");var r=f(e)&s-1;if(a[r]){var t=a[r].size();if(a[r]instanceof y){if(!a[r].find(e).equals(a[r].end()))return;a[r].pushBack(e),a[r].size()>=x.treeifyThreshold&&(a[r]=new d(a[r]))}else a[r].insert(e);var n=a[r].size();i+=n-t}else a[r]=new y([e]),++i;s*x.sigma<i&&!function(u){var h;x.maxSize<=u||(s=2*u,h=[],a.forEach(function(e,r){if(!e.empty()){if(e instanceof y&&1===e.size()){var t=e.front();if(t===undefined)throw new Error("unknown error");h[f(t)&s-1]=new y([t])}else{var n,i,o,l;e instanceof d?(n=new y,i=new y,e.forEach(function(e){(0==(f(e)&u)?n:i).pushBack(e)}),n.size()>x.untreeifyThreshold?h[r]=new d(n):n.size()&&(h[r]=n),i.size()>x.untreeifyThreshold?h[r+u]=new d(i):i.size()&&(h[r+u]=i)):(o=new y,l=new y,e.forEach(function(e){(0==(f(e)&u)?o:l).pushBack(e)}),o.size()&&(h[r]=o),l.size()&&(h[r+u]=l))}a[r].clear()}}),a=h)}.call(this,s)},this.eraseElementByValue=function(e){var r,t=f(e)&s-1;a[t]&&(r=a[t].size(),a[t].eraseElementByValue(e),a[t]instanceof d&&a[t].size()<=x.untreeifyThreshold&&(a[t]=new y(a[t])),t=a[t].size(),i+=t-r)},this.find=function(e){var r=f(e)&s-1;return!!a[r]&&!a[r].find(e).equals(a[r].end())},"symbol"==typeof Symbol.iterator&&(this[Symbol.iterator]=function(){return function(){var r,t,n,i,o,l;return c(this,function(e){switch(e.label){case 0:r=0,e.label=1;case 1:if(!(r<s))return[3,10];for(;r<s&&!a[r];)++r;if(s<=r)return[3,10];e.label=2;case 2:e.trys.push([2,7,8,9]),o=void 0,t=C(a[r]),n=t.next(),e.label=3;case 3:return n.done?[3,6]:[4,n.value];case 4:e.sent(),e.label=5;case 5:return n=t.next(),[3,3];case 6:return[3,9];case 7:return i=e.sent(),o={error:i},[3,9];case 8:try{n&&!n.done&&(l=t["return"])&&l.call(t)}finally{if(o)throw o.error}return[7];case 9:return++r,[3,1];case 10:return[2]}})}()}),e.forEach(function(e){return t.insert(e)})}x.initSize=16,x.maxSize=1<<30,x.sigma=.75,x.treeifyThreshold=8,x.untreeifyThreshold=6,x.minTreeifySize=64;var z=undefined&&undefined.__generator||function(t,n){var i,o,l,u={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]},e={next:r(0),"throw":r(1),"return":r(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function r(r){return function(e){return h([r,e])}}function h(e){if(i)throw new TypeError("Generator is already executing.");for(;u;)try{if(i=1,o&&(l=2&e[0]?o["return"]:e[0]?o["throw"]||((l=o["return"])&&l.call(o),0):o.next)&&!(l=l.call(o,e[1])).done)return l;switch(o=0,(e=l?[2&e[0],l.value]:e)[0]){case 0:case 1:l=e;break;case 4:return u.label++,{value:e[1],done:!1};case 5:u.label++,o=e[1],e=[0];continue;case 7:e=u.ops.pop(),u.trys.pop();continue;default:if(!(l=0<(l=u.trys).length&&l[l.length-1])&&(6===e[0]||2===e[0])){u=0;continue}if(3===e[0]&&(!l||e[1]>l[0]&&e[1]<l[3])){u.label=e[1];break}if(6===e[0]&&u.label<l[1]){u.label=l[1],l=e;break}if(l&&u.label<l[2]){u.label=l[2],u.ops.push(e);break}l[2]&&u.ops.pop(),u.trys.pop();continue}e=n.call(t,u)}catch(r){e=[6,r],o=0}finally{i=l=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}},B=undefined&&undefined.__values||function(e){var r="function"==typeof Symbol&&Symbol.iterator,t=r&&e[r],n=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return{value:(e=e&&n>=e.length?void 0:e)&&e[n++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")};function N(e,r,a){var t=this;if(void 0===e&&(e=[]),a=a||function(e){var r,t,n=0,i="";if("number"==typeof e)n=((n=Math.floor(e))<<5)-n,n&=n;else{i="string"!=typeof e?JSON.stringify(e):e;try{for(var o=B(i),l=o.next();!l.done;l=o.next()){n=(n<<5)-n+l.value.charCodeAt(0);n&=n}}catch(u){r={error:u}}finally{try{l&&!l.done&&(t=o["return"])&&t.call(o)}finally{if(r)throw r.error}}}return n^=n>>>16},0!=((r=void 0===r?N.initSize:r)&r-1))throw new Error("initBucketNum must be 2 to the power of n");var s=0,d=[],c=Math.max(N.initSize,Math.min(N.maxSize,r));this.size=function(){return s},this.empty=function(){return 0===s},this.clear=function(){s=0,c=r,d=[]},this.forEach=function(r){var t=0;d.forEach(function(e){e.forEach(function(e){r(e,t++)})})};this.setElement=function(e,r){var t;if(null===e||e===undefined)throw new Error("to avoid some unnecessary errors, we don't suggest you insert null or undefined here");if(null!==r&&r!==undefined){var n=a(e)&c-1;if(d[n]){var i=d[n].size();if(d[n]instanceof y){try{for(var o=B(d[n]),l=o.next();!l.done;l=o.next()){var u=l.value;if(u.key===e)return void(u.value=r)}}catch(f){h={error:f}}finally{try{l&&!l.done&&(t=o["return"])&&t.call(o)}finally{if(h)throw h.error}}d[n].pushBack({key:e,value:r}),d[n].size()>=N.treeifyThreshold&&(d[n]=new p(d[n]))}else d[n].setElement(e,r);var h=d[n].size();s+=h-i}else++s,d[n]=new y([{key:e,value:r}]);c*N.sigma<s&&!function(h){var f;N.maxSize<=h||(c=2*h,f=[],d.forEach(function(e,r){var t,n,i,o,l,u;e.empty()||(e instanceof y&&1===e.size()?(n=e.front())!==undefined&&(t=n.key,n=n.value,f[a(t)&c-1]=new y([{key:t,value:n}])):e instanceof p?(i=new y,o=new y,e.forEach(function(e){(0==(a(e.key)&h)?i:o).pushBack(e)}),i.size()>N.untreeifyThreshold?f[r]=new p(i):i.size()&&(f[r]=i),o.size()>N.untreeifyThreshold?f[r+h]=new p(o):o.size()&&(f[r+h]=o)):(l=new y,u=new y,e.forEach(function(e){(0==(a(e.key)&h)?l:u).pushBack(e)}),l.size()&&(f[r]=l),u.size()&&(f[r+h]=u)),d[r].clear())}),d=f)}.call(this,c)}else this.eraseElementByKey(e)},this.getElementByKey=function(e){var r,t,n=a(e)&c-1;if(!d[n])return undefined;if(d[n]instanceof p)return d[n].getElementByKey(e);try{for(var i=B(d[n]),o=i.next();!o.done;o=i.next()){var l=o.value;if(l.key===e)return l.value}}catch(u){r={error:u}}finally{try{o&&!o.done&&(t=i["return"])&&t.call(i)}finally{if(r)throw r.error}}return undefined},this.eraseElementByKey=function(e){var r,t=a(e)&c-1;if(d[t]){var n=d[t].size();if(d[t]instanceof p)d[t].eraseElementByKey(e),d[t].size()<=N.untreeifyThreshold&&(d[t]=new y(d[t]));else{var i=-1;try{for(var o=B(d[t]),l=o.next();!l.done;l=o.next()){var u=l.value;if(++i,u.key===e){d[t].eraseElementByPos(i);break}}}catch(f){h={error:f}}finally{try{l&&!l.done&&(r=o["return"])&&r.call(o)}finally{if(h)throw h.error}}}var h=d[t].size();s+=h-n}},this.find=function(e){var r,t,n=a(e)&c-1;if(!d[n])return!1;if(d[n]instanceof p)return!d[n].find(e).equals(d[n].end());try{for(var i=B(d[n]),o=i.next();!o.done;o=i.next())if(o.value.key===e)return!0}catch(l){r={error:l}}finally{try{o&&!o.done&&(t=i["return"])&&t.call(i)}finally{if(r)throw r.error}}return!1},"symbol"==typeof Symbol.iterator&&(this[Symbol.iterator]=function(){return function(){var r,t,n,i,o,l;return z(this,function(e){switch(e.label){case 0:r=0,e.label=1;case 1:if(!(r<c))return[3,10];for(;r<c&&!d[r];)++r;if(c<=r)return[3,10];e.label=2;case 2:e.trys.push([2,7,8,9]),o=void 0,t=B(d[r]),n=t.next(),e.label=3;case 3:return n.done?[3,6]:[4,n.value];case 4:e.sent(),e.label=5;case 5:return n=t.next(),[3,3];case 6:return[3,9];case 7:return i=e.sent(),o={error:i},[3,9];case 8:try{n&&!n.done&&(l=t["return"])&&l.call(t)}finally{if(o)throw o.error}return[7];case 9:return++r,[3,1];case 10:return[2]}})}()}),e.forEach(function(e){var r=e.key,e=e.value;return t.setElement(r,e)})}N.initSize=16,N.maxSize=1<<30,N.sigma=.75,N.treeifyThreshold=8,N.untreeifyThreshold=6,N.minTreeifySize=64,"symbol"!=typeof Symbol.iterator&&console.warn("Your running environment does not support symbol type, you may can not use the 'for...of' syntax."),e.Deque=w,e.HashMap=N,e.HashSet=x,e.LinkList=y,e.Map=p,e.PriorityQueue=function(e,o){o=o||function(e,r){return r<e?-1:e<r?1:0};var l=[];(e=void 0===e?[]:e).forEach(function(e){return l.push(e)});var u=l.length,h=function(e,r){if(e<0||u<=e)throw new Error("unknown error");if(r<0||u<=r)throw new Error("unknown error");var t=l[e];l[e]=l[r],l[r]=t};!function(){for(var e=Math.floor((u-1)/2);0<=e;--e)for(var r=e,t=2*r+1;t<u;){var n=t+1,i=t;if(n<u&&0<o(l[t],l[n])&&(i=n),o(l[r],l[i])<=0)break;h(r,i),t=2*(r=i)+1}}(),this.size=function(){return u},this.empty=function(){return 0===u},this.clear=function(){u=0,l.length=0},this.push=function(e){if(l.push(e),1!==++u)for(var r=u-1;0<r;){var t=Math.floor((r-1)/2);if(o(l[t],e)<=0)break;!function(e){if(e<0||u<=e)throw new Error("unknown error");var r=2*e+1,t=2*e+2;r<u&&0<o(l[e],l[r])&&h(e,r),t<u&&0<o(l[e],l[t])&&h(e,t)}(t),r=t}},this.pop=function(){if(!this.empty())if(1!==this.size()){var e=l[u-1];--u;for(var r=0;r<this.size();){var t=2*r+1,n=2*r+2;if(t>=this.size())break;var i=t;if(n<this.size()&&0<o(l[t],l[n])&&(i=n),0<=o(l[i],e))break;l[r]=l[i],r=i}l[r]=e}else--u},this.top=function(){return l[0]}},e.Queue=function(e){var r=new y(e=void 0===e?[]:e);this.size=function(){return r.size()},this.empty=function(){return r.empty()},this.clear=function(){r.clear()},this.push=function(e){r.pushBack(e)},this.pop=function(){r.popFront()},this.front=function(){return r.front()}},e.Set=d,e.Stack=function(e){var r=this;void 0===e&&(e=[]);var t=0,n=[];this.size=function(){return t},this.empty=function(){return 0===t},this.clear=function(){t=0,n.length=0},this.push=function(e){n.push(e),++t},this.pop=function(){n.pop(),0<t&&--t},this.top=function(){return n[t-1]},e.forEach(function(e){return r.push(e)})},e.Vector=function(e){var r=this;void 0===e&&(e=[]);var i=0,o=[];this.size=function(){return i},this.empty=function(){return 0===i},this.clear=function(){i=0,o.length=0},this.begin=function(){return new h(0,this.size,this.getElementByPos,this.setElementByPos)},this.end=function(){return new h(i,this.size,this.getElementByPos,this.setElementByPos)},this.rBegin=function(){return new h(i-1,this.size,this.getElementByPos,this.setElementByPos,"reverse")},this.rEnd=function(){return new h(-1,this.size,this.getElementByPos,this.setElementByPos,"reverse")},this.front=function(){return this.empty()?undefined:o[0]},this.back=function(){return this.empty()?undefined:o[i-1]},this.forEach=function(e){o.forEach(e)},this.getElementByPos=function(e){if(e<0||i<=e)throw new Error("pos must more than 0 and less than vector's size");return o[e]},this.eraseElementByPos=function(e){if(e<0||i<=e)throw new Error("pos must more than 0 and less than vector's size");for(var r=e;r<i-1;++r)o[r]=o[r+1];this.popBack()},this.eraseElementByValue=function(r){var t=[];this.forEach(function(e){e!==r&&t.push(e)}),t.forEach(function(e,r){o[r]=e});for(var e=t.length;e<i;)this.popBack()},this.pushBack=function(e){o.push(e),++i},this.popBack=function(){o.pop(),0<i&&--i},this.setElementByPos=function(e,r){if(r!==undefined&&null!==r){if(e<0||i<=e)throw new Error("pos must more than 0 and less than vector's size");o[e]=r}else this.eraseElementByPos(e)},this.insert=function(e,r,t){if(void 0===t&&(t=1),r===undefined||null===r)throw new Error("you can't push undefined or null here");if(e<0||i<e)throw new Error("pos must more than 0 and less than or equal to vector's size");o.splice.apply(o,l([e,0],n(new Array(t).fill(r)),!1)),i+=t},this.find=function(e){for(var r=0;r<i;++r)if(o[r]===e)return new h(r,this.size,this.getElementByPos,this.getElementByPos);return this.end()},this.reverse=function(){o.reverse()},this.unique=function(){var t,n=[];this.forEach(function(e,r){0!==r&&e===t||(n.push(e),t=e)}),n.forEach(function(e,r){o[r]=e});for(var e=n.length;e<i;)this.popBack()},this.sort=function(e){o.sort(e)},"symbol"==typeof Symbol.iterator&&(this[Symbol.iterator]=function(){return function(){return t(this,function(e){switch(e.label){case 0:return[5,u(o)];case 1:return[2,e.sent()]}})}()}),e.forEach(function(e){return r.pushBack(e)})},Object.defineProperty(e,"__esModule",{value:!0})});